(function(e){function t(t){for(var l,s,o=t[0],r=t[1],c=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],l=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(l=!1)}l&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var l={},i={app:0},n=[];function s(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=l,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(a,l,function(t){return e[t]}.bind(null,l));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=r;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var l=a("85ec"),i=a.n(l);i.a},"049b":function(e,t,a){"use strict";var l=a("b90d"),i=a.n(l);i.a},"0bbf":function(e,t,a){"use strict";var l=a("b475"),i=a.n(l);i.a},"0e1a":function(e,t,a){},"0e25":function(e,t,a){},"0fcc":function(e,t,a){},"129c":function(e,t,a){"use strict";var l=a("5f1a"),i=a.n(l);i.a},1920:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"content bg-white text-center pulldown overflow-hidden"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-sm-offset-3"},[a("h1",{staticClass:"font-s128 font-w300 text-city animated flipInX"},[e._v("404")]),a("h2",{staticClass:"h3 font-w300 push-50 animated fadeInUp"},[e._v("抱歉，该页面走失了..")]),a("form",{staticClass:"form-horizontal push-50",attrs:{action:"base_pages_search.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-6 col-sm-offset-3"},[a("div",{staticClass:"input-group input-group-lg"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"搜索目的城市"}}),a("div",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default"},[a("i",{staticClass:"fa fa-search"})])])])])])])])])]),a("div",{staticClass:"content pulldown text-muted text-center"},[e._v(" 您是否想要了解更多?"),a("br"),a("a",{staticClass:"link-effect",attrs:{href:"javascript:void(0)"}},[e._v("联系我们")]),e._v(" or "),a("a",{staticClass:"link-effect",attrs:{href:"index.html"}},[e._v("返回首页")])])])}];a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i}))},"1a8b":function(e,t,a){},"1b33":function(e,t,a){},"1b90":function(e,t,a){},"1c4e":function(e,t,a){},"1c75":function(e,t,a){"use strict";var l=a("4e25"),i=a.n(l);i.a},"1e06":function(e,t,a){"use strict";a.r(t),a.d(t,"m",(function(){return l}));var l={title:"Make travel easier",search:"Search"}},2155:function(e,t,a){"use strict";var l=a("47ad"),i=a.n(l);i.a},2279:function(e,t,a){e.exports=a.p+"img/1_m.81740160.jpg"},"23d0":function(e,t,a){"use strict";a.r(t),a.d(t,"m",(function(){return l}));var l={title:"让旅行更轻松",search:"搜索"}},"2a65":function(e,t,a){"use strict";var l=a("e1ab"),i=a.n(l);i.a},"2c50":function(e,t,a){},"2ea7":function(e,t,a){},3034:function(e,t,a){"use strict";var l=a("7126"),i=a.n(l);i.a},"312c":function(e,t,a){"use strict";var l=a("7c6e"),i=a.n(l);i.a},3618:function(e,t,a){"use strict";var l=a("a638"),i=a.n(l);i.a},3667:function(e,t,a){},"38f3":function(e,t,a){e.exports=a.p+"img/1.e0b14efb.jpg"},"3a5d":function(e,t,a){"use strict";var l=a("d871"),i=a.n(l);i.a},"47ad":function(e,t,a){},"4e25":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("d3b7"),a("ac1f"),a("5319"),a("2ca0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var l=a("2b0e"),i=a("5c96"),n=a.n(i),s=(a("0fae"),a("b970")),o=(a("157a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-component__scroll el-scrollbar",attrs:{id:"app"}},[a("router-view",{key:this.$router.push})],1)}),r=[],c=(a("c975"),a("b0c0"),a("1276"),{name:"app",watch:{$route:function(e,t){console.log(this.$pc),e.name.indexOf("_m")>0&&this.$pc?this.$router.replace(e.name.split("_m")[0]):e.name.indexOf("_m")<0&&!this.$pc&&this.$router.replace(e.name+"_m")}}}),u=c,d=(a("034f"),a("2877")),p=Object(d["a"])(u,o,r,!1,null,null,null),m=p.exports,h=(a("ed2c"),a("c2a5"),a("6672"),a("8c4f")),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("div",{staticClass:"container"},[a("Search"),a("ChinaPlane"),a("AbroadPlane")],1),a("Footer"),a("Backtop")],1)},b=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-full"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-1"},[a("div",{staticClass:"container"},[a("span",[e._v(e._s(e.$t("m.title")))]),""!=this.username?a("el-link",{attrs:{underline:!1}},[a("el-dropdown",[a("span",[e._v(e._s(e.username))]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-link",{attrs:{underline:!1,href:"#/myClock",target:"_blank"}},[e._v("我的提醒")])],1),a("el-dropdown-item",[a("el-link",{attrs:{underline:!1},on:{click:e.logout}},[e._v("注销")])],1)],1)],1)],1):a("div",{staticStyle:{display:"inline-block",float:"right"}},[a("el-link",{attrs:{underline:!1,href:"#/login"}},[a("span",[e._v("登录")])]),a("el-link",{attrs:{underline:!1,href:"#/login"}},[a("span",[e._v("注册 | ")])])],1),a("el-link",{attrs:{underline:!1}},[a("i",{staticClass:"fa fa-wechat"})]),a("el-link",{attrs:{underline:!1,href:"http://47.107.131.246:8443/api/getQQCode"}},[a("i",{staticClass:"fa fa-qq"})]),a("el-link",{attrs:{underline:!1},on:{click:e.changeLangEvent}},[a("i",{staticClass:"fa fa-language"})])],1)]),a("div",{staticClass:"header-2"},[a("div",{staticClass:"container"},[a("div",{staticClass:"search-container"},[a("input",{attrs:{type:"checkbox"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"key"}],attrs:{type:"text",placeholder:"输入要搜索的城市"},domProps:{value:e.key},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)},input:function(t){t.target.composing||(e.key=t.target.value)}}}),a("div",{staticClass:"search"})])])])]),a("Carsousel")],1)},g=[],y=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"block"},[l("el-carousel",{attrs:{trigger:"click"}},[l("el-carousel-item",[l("img",{attrs:{src:a("38f3")}})]),l("el-carousel-item",[l("img",{attrs:{src:a("cedd")}})]),l("el-carousel-item",[l("img",{attrs:{src:a("a760")}})])],1)],1)},w=[],k={name:"Carsousel"},C=k,_=Object(d["a"])(C,y,w,!1,null,"7c074ef6",null),x=_.exports,$={name:"Header",components:{Carsousel:x},data:function(){return{key:"",username:""==this.$store.state.sessionUser.username?this.$store.state.user.username:this.$store.state.sessionUser.username}},methods:{changeLangEvent:function(){"zh-CN"===this.lang?(this.lang="en-US",this.$i18n.locale=this.lang):(this.lang="zh-CN",this.$i18n.locale=this.lang)},logout:function(){this.$store.commit("logout"),this.$message({type:"success",message:"注销成功"}),this.username=""},search:function(){this.$router.push({path:"/search",query:{key:this.key,startCity:"武汉"}})}}},S=$,F=(a("f0c7"),Object(d["a"])(S,v,g,!1,null,"688dfb2a",null)),D=F.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-show",attrs:{"data-role":"search"}},[a("el-tabs",{staticClass:"block",attrs:{type:"border-card",stretch:!0},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"国内航班查询",name:"first"}},[a("form",{ref:"china",attrs:{id:"china_form",action:"/search",method:"post"}},[a("div",{staticClass:"col-sm-6"},[a("a",{staticClass:"block block-link-hover3 search-box",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"block-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("div",{staticClass:"form-material"},[a("h5",{staticClass:"font-w300 push"},[e._v("出发地")]),a("ChinaCitySelect",{ref:"chinaStartCity"})],1)]),a("div",{staticClass:"col-sm-2"},[a("span",{staticClass:"fa fa-exchange btn btn-rounded change-btn",attrs:{id:"china_change"}})]),a("div",{staticClass:"col-sm-5"},[a("div",{staticClass:"form-material"},[a("h5",{staticClass:"font-w300 push"},[e._v("目的地")]),a("ChinaCitySelect",{ref:"chinaEndCity"})],1)])])])])]),a("div",{staticClass:"col-sm-6"},[a("a",{staticClass:"block block-link-hover3 search-box",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"block-content"},[a("h5",{staticClass:"font-w300 push"},[e._v("选择搜索时间")]),a("DateTimePicker",{ref:"chinaTime"})],1)])]),a("div",{staticClass:"col-sm-12"},[a("span",{staticClass:"btn btn-minw search-btn",attrs:{type:"button"},on:{click:function(t){return e.submit("china")}}},[a("i",{staticClass:"fa fa-search"},[e._v(e._s(e.$t("m.search")))])])])])]),a("el-tab-pane",{attrs:{label:"国外航班查询",name:"second"}},[a("form",{ref:"abroad",attrs:{onsubmit:"return false"}},[a("div",{staticClass:"col-sm-6"},[a("a",{staticClass:"block block-link-hover3 search-box",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"block-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("div",{staticClass:"form-material"},[a("h5",{staticClass:"font-w300 push"},[e._v("出发地")]),a("AbroadCitySelect",{ref:"abroadStartCity"})],1)]),a("div",{staticClass:"col-sm-2"},[a("span",{staticClass:"fa fa-exchange btn btn-rounded change-btn",attrs:{id:"abroad_change"}})]),a("div",{staticClass:"col-sm-5"},[a("div",{staticClass:"form-material"},[a("h5",{staticClass:"font-w300 push"},[e._v("目的地")]),a("AbroadCitySelect",{ref:"abroadEndCity"})],1)])])])])]),a("div",{staticClass:"col-sm-6"},[a("a",{staticClass:"block block-link-hover3 search-box",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"block-content"},[a("h5",{staticClass:"font-w300 push"},[e._v("选择搜索时间")]),a("DateTimePicker",{ref:"abroadTime"})],1)])]),a("div",{staticClass:"col-sm-12"},[a("span",{staticClass:"btn btn-minw search-btn",attrs:{type:"button"},on:{click:function(t){return e.submit("abroad")}}},[a("i",{staticClass:"fa fa-search"},[e._v(e._s(e.$t("m.search")))])])])])]),a("el-tab-pane",{attrs:{label:"航班动态",name:"third"}},[a("InfinateList")],1)],1)],1)},z=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":" yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)},A=[],U={name:"DateTimePicker",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},value1:[new Date(2e3,10,10,10,10),new Date(2e3,10,11,10,10)],time:""}}},O=U,j=Object(d["a"])(O,P,A,!1,null,null,null),L=j.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-cascader",{ref:"cascaderAddr",attrs:{options:e.options,filterable:""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.node,i=t.data;return[a("span",[e._v(e._s(i.label))]),l.isLeaf?e._e():a("span",[e._v(" ("+e._s(i.children.length)+") ")])]}}]),model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})},q=[],R={name:"ChinaCitySelect",data:function(){return{selectedOptions:"",options:[{value:"热门",label:"热门",children:[{value:"北京",label:"北京(BJS)"},{value:"深圳",label:"深圳(SZX)"},{value:"上海",label:"上海(SHA)"},{value:"广州",label:"广州(CAN)"},{value:"成都",label:"成都(CTU)"},{value:"杭州",label:"杭州(HGH)"},{value:"武汉",label:"武汉(WUH)"},{value:"西安",label:"西安"},{value:"重庆",label:"重庆"},{value:"青岛",label:"青岛"},{value:"长沙",label:"长沙"},{value:"南京",label:"南京"},{value:"厦门",label:"厦门"},{value:"昆明",label:"昆明"},{value:"大连",label:"大连"},{value:"天津",label:"天津"},{value:"郑州",label:"郑州"},{value:"三亚",label:"三亚"},{value:"济南",label:"济南"},{value:"福州",label:"福州"}]},{value:"直辖市",label:"直辖市",children:[{value:"北京",label:"北京"},{value:"上海",label:"上海"},{value:"天津",label:"天津"},{value:"重庆",label:"重庆"}]},{value:"特别行政区",label:"特别行政区",children:[{value:"香港",label:"香港"},{value:"澳门",label:"澳门"}]},{value:"安徽",label:"安徽",children:[{value:"合肥",label:"合肥"},{value:"安庆",label:"安庆"},{value:"亳州",label:"亳州"},{value:"芜湖",label:"芜湖"},{value:"马鞍山",label:"马鞍山"},{value:"池州",label:"池州"},{value:"黄山",label:"黄山"},{value:"滁州",label:"滁州"},{value:"淮南",label:"淮南"},{value:"淮北",label:"淮北"},{value:"蚌埠",label:"蚌埠"},{value:"宿州",label:"宿州"},{value:"宣城",label:"宣城"},{value:"六安",label:"六安"},{value:"阜阳",label:"阜阳"},{value:"铜陵",label:"铜陵"},{value:"明光",label:"明光"},{value:"天长",label:"天长"},{value:"宁国",label:"宁国"},{value:"界首",label:"界首"},{value:"桐城",label:"桐城"},{value:"潜山",label:"潜山"}]},{value:"湖北",label:"湖北",children:[{value:"武汉",label:"武汉"},{value:"荆门",label:"荆门"},{value:"咸宁",label:"咸宁"},{value:"襄阳",label:"襄阳"},{value:"荆州",label:"荆州"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"},{value:"荆门",label:"荆门"}]},{value:"福建",label:"福建",children:[{value:"福州",label:"福州"},{value:"黄冈",label:"黄冈"}]},{value:"湖南",label:"湖南",children:[{value:"长沙",label:"长沙"},{value:"郴州",label:"郴州"}]},{value:"河南",label:"河南",children:[{value:"郑州",label:"郑州"},{value:"黄冈",label:"黄冈"}]},{value:"甘肃",label:"甘肃",children:[{value:"兰州",label:"兰州"},{value:"白银",label:"白银"}]},{value:"湖北",label:"湖北",children:[{value:"武汉",label:"武汉"},{value:"黄冈",label:"黄冈"}]},{value:"贵州",label:"贵州",children:[{value:"贵阳",label:"贵阳"},{value:"安顺",label:"安顺"}]},{value:"海南",label:"海南",children:[{value:"海口",label:"海口"},{value:"三亚",label:"三亚"},{value:"万宁",label:"万宁"},{value:"文昌",label:"文昌"},{value:"儋州",label:"儋州"},{value:"琼海",label:"琼海"},{value:"东方",label:"东方"},{value:"五指山",label:"五指山"}]},{value:"河北",label:"河北",children:[{value:"石家庄",label:"石家庄"},{value:"保定",label:"保定"}]},{value:"黑龙江",label:"黑龙江",children:[{value:"哈尔滨",label:"哈尔滨"},{value:"伊春",label:"伊春"}]},{value:"吉林",label:"吉林",children:[{value:"长春",label:"长春"},{value:"吉林",label:"吉林"}]},{value:"江苏",label:"江苏",children:[{value:"南京",label:"南京"},{value:"无锡",label:"无锡"}]},{value:"江西",label:"江西",children:[{value:"南昌",label:"南昌"},{value:"赣州",label:"赣州"}]},{value:"辽宁",label:"辽宁",children:[{value:"沈阳",label:"沈阳"},{value:"葫芦岛",label:"葫芦岛"}]},{value:"青海",label:"青海",children:[{value:"西宁",label:"西宁"},{value:"格尔木",label:"格尔木"},{value:"德令哈",label:"德令哈"}]},{value:"青海",label:"青海",children:[{value:"南京",label:"南京"},{value:"无锡",label:"无锡"}]},{value:"山东",label:"山东",children:[{value:"济南",label:"济南"},{value:"青岛",label:"青岛"}]},{value:"山西",label:"山西",children:[{value:"太原",label:"太原"},{value:"大同",label:"大同"}]},{value:"陕西",label:"陕西",children:[{value:"西安",label:"西安"},{value:"咸阳",label:"咸阳"}]},{value:"四川",label:"四川",children:[{value:"成都",label:"成都"},{value:"广安",label:"广安"}]},{value:"云南",label:"云南",children:[{value:"昆明",label:"昆明"},{value:"玉溪",label:"玉溪"}]},{value:"浙江",label:"浙江",children:[{value:"杭州",label:"杭州"},{value:"宁波",label:"宁波"}]},{value:"台湾",label:"台湾",children:[{value:"台北",label:"台北"},{value:"台南",label:"台南"},{value:"台中",label:"台中"},{value:"高雄",label:"高雄"},{value:"桃源",label:"桃源"}]},{value:"广东",label:"广东",children:[{value:"广州",label:"广州"},{value:"深圳",label:"深圳"}]},{value:"广西壮族自治区",label:"广西壮族自治区",children:[{value:"南宁",label:"南宁"},{value:"贺州",label:"贺州"}]},{value:"内蒙古自治区",label:"内蒙古自治区",children:[{value:"呼和浩特",label:"呼和浩特"},{value:"呼伦贝尔",label:"呼伦贝尔"}]},{value:"宁夏回族自治区",label:"宁夏回族自治区",children:[{value:"银川",label:"银川"},{value:"固原",label:"固原"}]},{value:"西藏自治区",label:"西藏自治区",children:[{value:"拉萨市",label:"拉萨市"},{value:"那曲",label:"那曲"}]},{value:"新疆维吾尔自治区",label:"新疆维吾尔自治区",children:[{value:"乌鲁木齐",label:"乌鲁木齐"},{value:"石河子",label:"石河子"}]}]}}},I=R,B=Object(d["a"])(I,E,q,!1,null,null,null),V=B.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-cascader",{ref:"cascaderAddr",attrs:{options:e.options,"show-all-levels":!1,filterable:""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.node,i=t.data;return[a("span",[e._v(e._s(i.label))]),l.isLeaf?e._e():a("span",[e._v(" ("+e._s(i.children.length)+") ")])]}}]),model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})},M=[],H={name:"AbroadCitySelect",data:function(){return{selectedOptions:"",options:[{value:"精选地区",label:"精选地区",children:[{value:"泰国",label:"泰国"},{value:"日本",label:"日本"},{value:"韩国",label:"韩国"},{value:"英国",label:"英国"},{value:"马来西亚",label:"马来西亚"},{value:"澳大利亚",label:"澳大利亚"},{value:"美国",label:"美国"},{value:"菲律宾",label:"菲律宾"},{value:"法国",label:"法国"},{value:"印度尼西亚",label:"印度尼西亚"},{value:"阿联酋",label:"阿联酋"},{value:"越南",label:"越南"},{value:"柬埔寨",label:"柬埔寨"},{value:"俄罗斯",label:"俄罗斯"},{value:"土耳其",label:"土耳其"},{value:"加拿大",label:"加拿大"},{value:"马尔代夫",label:"马尔代夫"},{value:"意大利",label:"意大利"},{value:"新西兰",label:"新西兰"},{value:"缅甸",label:"缅甸"},{value:"德国",label:"德国"},{value:"荷兰",label:"荷兰"},{value:"印度",label:"印度"},{value:"希腊",label:"希腊"},{value:"斯里兰卡",label:"斯里兰卡"},{value:"尼泊尔",label:"尼泊尔"},{value:"捷克",label:"捷克"},{value:"瑞士",label:"瑞士"},{value:"西班牙",label:"西班牙"}]},{value:"日韩",label:"日韩",children:[{value:"东京",label:"东京"},{value:"大阪",label:"大阪"},{value:"静冈",label:"静冈"},{value:"小松",label:"小松"},{value:"古名屋",label:"古名屋"},{value:"高雄",label:"高雄"},{value:"首尔",label:"首尔"},{value:"济州岛",label:"济州岛"},{value:"釜山",label:"釜山"}]},{value:"亚洲",label:"亚洲",children:[{value:"中国香港",label:"中国香港"},{value:"东京",label:"东京"},{value:"中国台北",label:"中国台北"},{value:"首尔",label:"首尔"},{value:"新加坡",label:"新加坡"},{value:"曼谷",label:"曼谷"},{value:"吉隆坡",label:"吉隆坡"},{value:"大阪",label:"大阪"},{value:"中国澳门",label:"中国澳门"},{value:"雅加达",label:"雅加达"},{value:"胡志明市",label:"胡志明市"},{value:"马尼拉",label:"马尼拉"},{value:"巴厘岛",label:"巴厘岛"},{value:"古名屋",label:"古名屋"},{value:"普吉岛",label:"普吉岛"},{value:"河内",label:"河内"},{value:"马累",label:"马累"},{value:"迪拜",label:"迪拜"},{value:"釜山",label:"釜山"},{value:"加德满都",label:"加德满都"},{value:"高雄",label:"高雄"},{value:"福冈",label:"福冈"},{value:"金边",label:"金边"},{value:"德里",label:"德里"},{value:"济州岛",label:"济州岛"},{value:"札幌",label:"札幌"},{value:"伊斯坦布尔",label:"伊斯坦布尔"},{value:"乌兰巴托",label:"乌兰巴托"},{value:"孟买",label:"孟买"},{value:"茨城",label:"茨城"}]},{value:"欧洲",label:"欧洲",children:[{value:"伦敦",label:"伦敦(英国)"},{value:"巴黎",label:"巴黎"},{value:"法兰克福",label:"法兰克福"},{value:"莫斯科",label:"莫斯科"},{value:"罗马",label:"罗马"},{value:"阿姆斯特丹",label:"阿姆斯特丹"},{value:"米兰",label:"米兰"},{value:"慕尼黑",label:"慕尼黑"},{value:"斯德哥尔摩",label:"斯德哥尔摩"},{value:"柏林",label:"柏林"},{value:"曼彻斯特",label:"曼彻斯特(英国)"},{value:"马德里",label:"马德里"},{value:"苏黎世",label:"苏黎世"},{value:"布鲁塞尔",label:"布鲁塞尔"},{value:"哥本哈根",label:"哥本哈根"},{value:"赫尔辛基",label:"赫尔辛基"},{value:"维也纳",label:"维也纳"},{value:"巴塞罗那",label:"巴塞罗那"},{value:"雅典",label:"雅典"},{value:"爱丁堡",label:"爱丁堡"},{value:"伯明翰",label:"伯明翰(英国)"},{value:"纽卡斯尔",label:"纽卡斯尔(英国)"},{value:"日内瓦",label:"日内瓦"},{value:"圣彼得堡",label:"圣彼得堡"},{value:"格拉斯哥",label:"格拉斯哥"},{value:"基辅",label:"基辅"},{value:"布达佩斯",label:"布达佩斯"},{value:"汉堡",label:"汉堡"},{value:"布拉格",label:"布拉格"},{value:"杜塞尔多夫",label:"杜塞尔多夫"}]},{value:"美洲",label:"美洲",children:[{value:"纽约",label:"纽约"},{value:"洛杉矶",label:"洛杉矶"},{value:"旧金山",label:"旧金山"},{value:"温哥华",label:"温哥华"},{value:"芝加哥",label:"芝加哥"},{value:"多伦多",label:"多伦多"},{value:"西雅图",label:"西雅图"},{value:"华盛顿",label:"华盛顿"},{value:"波士顿",label:"波士顿"},{value:"底特律",label:"底特律"},{value:"亚特兰大",label:"亚特兰大"},{value:"休斯顿",label:"休斯顿"},{value:"蒙特利尔",label:"蒙特利尔"},{value:"夏威夷",label:"夏威夷"},{value:"塞班",label:"塞班"},{value:"达拉斯",label:"达拉斯"},{value:"明尼阿波利斯",label:"明尼阿波利斯"},{value:"费城",label:"费城"},{value:"圣保罗",label:"圣保罗"},{value:"渥太华",label:"渥太华"},{value:"墨西哥城",label:"墨西哥城"},{value:"拉斯维加斯",label:"拉斯维加斯"},{value:"卡尔加里",label:"卡尔加里"},{value:"迈阿密",label:"迈阿密"},{value:"丹佛",label:"丹佛"},{value:"奥兰多",label:"奥兰多"},{value:"波特兰",label:"波特兰"},{value:"曼彻斯特",label:"曼彻斯特"},{value:"埃德蒙顿",label:"埃德蒙顿"},{value:"布宜诺斯艾利斯",label:"布宜诺斯艾利斯"}]},{value:"非洲",label:"非洲",children:[{value:"开罗",label:"开罗"},{value:"约翰内斯堡",label:"约翰内斯堡"},{value:"开普敦",label:"开普敦"},{value:"内罗毕",label:"内罗毕"},{value:"拉各斯",label:"拉各斯"},{value:"罗安达",label:"罗安达"},{value:"毛里求斯",label:"毛里求斯"},{value:"达累斯萨拉姆",label:"达累斯萨拉姆"},{value:"亚的斯亚贝巴",label:"亚的斯亚贝巴"},{value:"喀土穆",label:"喀土穆"},{value:"阿克拉",label:"阿克拉"},{value:"阿尔及尔",label:"阿尔及尔"},{value:"卡萨布兰卡",label:"卡萨布兰卡"},{value:"德班",label:"德班"},{value:"突尼斯",label:"突尼斯"},{value:"卢萨卡",label:"卢萨卡"},{value:"哈拉雷",label:"哈拉雷"},{value:"雅温得",label:"雅温得"},{value:"哈博罗内",label:"哈博罗内"},{value:"金沙萨",label:"金沙萨"},{value:"马普托",label:"马普托"},{value:"杜阿拉",label:"杜阿拉"},{value:"费里敦",label:"费里敦"},{value:"阿比让",label:"阿比让"},{value:"卢克索",label:"卢克索"}]},{value:"大洋洲",label:"大洋洲",children:[{value:"悉尼",label:"悉尼(澳大利亚)"},{value:"墨尔本",label:"墨尔本(澳大利亚)"},{value:"奥立克",label:"奥立克(新西兰)"},{value:"布里斯班",label:"布里斯班"},{value:"阿德莱德",label:"阿德莱德"},{value:"珀斯",label:"珀斯"},{value:"惠灵顿",label:"惠灵顿"},{value:"堪培拉",label:"堪培拉"},{value:"凯恩斯",label:"凯恩斯"},{value:"楠迪",label:"楠迪"},{value:"黄金海岸",label:"黄金海岸"},{value:"帕皮提",label:"帕皮提"},{value:"霍巴特",label:"霍巴特"},{value:"达尔文",label:"达尔文"},{value:"达尼丁",label:"达尼丁"}]}]}}},W=H,J=Object(d["a"])(W,N,M,!1,null,null,null),G=J.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.load,expression:"load"}],staticClass:"infinite-list",staticStyle:{"overflow-y":"scroll",height:"260px"}},e._l(e.news,(function(t){return a("li",{staticClass:"infinite-list-item"},[a("el-link",{attrs:{underline:!1},on:{click:function(a){return e.openNews(t.id)}}},[e._v(e._s(t.title))]),a("time",{staticClass:"time"},[e._v(e._s(t.createTime))])],1)})),0)])},X=[],K={name:"InfinateList",created:function(){var e=this;this.$axios.get("/admin/news/all").then((function(t){200===t.data.code&&(e.news=t.data.data)})).catch((function(e){}))},data:function(){return{count:40,news:""}},methods:{load:function(){this.count+=2},openNews:function(e){window.open("#/news/"+e)}}},Y=K,Z=(a("e1bf"),Object(d["a"])(Y,Q,X,!1,null,"f18d7fce",null)),ee=Z.exports,te={name:"Search",data:function(){return{activeName:"first"}},components:{DateTimePicker:L,ChinaCitySelect:V,AbroadCitySelect:G,InfinateList:ee},methods:{submit:function(e){if("china"===e)var t=this.$refs.chinaStartCity.selectedOptions,a=this.$refs.chinaEndCity.selectedOptions,l=this.$refs.chinaTime.time;else{if("abroad"!==e)return!1;t=this.$refs.abroadStartCity.selectedOptions,a=this.$refs.abroadEndCity.selectedOptions,l=this.$refs.abroadTime.time}t=t[t.length-1],a=a[a.length-1];var i=l[0],n=l[1];if(t===a)return this.$message.error("起始城市与目的城市不能相同"),!1;this.$router.push({path:"/search",query:{startCity:t,endCity:a,startTime:i,endTime:n,key:a,orderByField:"price"}})}}},ae=te,le=(a("2a65"),Object(d["a"])(ae,T,z,!1,null,"39aa676e",null)),ie=le.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-divider",{attrs:{"content-position":"left"}},[e._v("国内航班")]),a("el-card",{attrs:{shadow:"never"}},[a("div",{staticStyle:{"text-align":"right",width:"100%"}},[a("el-radio-group",{attrs:{size:"small"},on:{change:e.search},model:{value:e.hotCity,callback:function(t){e.hotCity=t},expression:"hotCity"}},[a("el-radio-button",{attrs:{label:"上海"}}),a("el-radio-button",{attrs:{label:"北京"}}),a("el-radio-button",{attrs:{label:"广州"}}),a("el-radio-button",{attrs:{label:"深圳"}})],1)],1),a("el-row",{attrs:{gutter:12}},e._l(this.chinaPlane,(function(t){return a("el-col",{attrs:{span:8}},[a("el-popover",{attrs:{placement:"right",width:"430",trigger:"click"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-col",[e._v("起飞机场："+e._s(t.startAirport))]),a("el-col",[e._v("降落机场："+e._s(t.endAirport))]),a("el-col",[e._v("客机机型："+e._s(t.model))]),0===t.type?a("el-col",[e._v("客机型号：小型")]):1===t.type?a("el-col",[e._v("客机型号：中型")]):2===t.type?a("el-col",[e._v("客机型号：大型")]):e._e(),a("el-col",[e._v("客机序号："+e._s(t.number))])],1),a("el-col",{attrs:{span:12}},[a("el-col",[a("h3",[e._v(e._s(t.name))]),a("img",{attrs:{src:t.icon}})]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.addClock(t)}}},[e._v("添加提醒"),a("i",{staticClass:"el-icon-alarm-clock"})])],1)],1),a("el-card",{attrs:{slot:"reference",shadow:"hover"},slot:"reference"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[e._v(e._s(t.startCity)+" "),a("i",{staticClass:"el-icon-caret-right"}),e._v(" "+e._s(t.endCity))]),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{color:"indianred",float:"right"}},[e._v(e._s(t.price)+" ￥起")])]),a("el-col",[e._v(e._s(t.startTime))])],1)],1)],1)],1)})),1)],1),a("el-dialog",{attrs:{title:"添加邮箱提醒",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"clockForm",attrs:{model:e.clockForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email","label-width":e.formLabelWidth}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.clockForm.email,callback:function(t){e.$set(e.clockForm,"email",t)},expression:"clockForm.email"}})],1),a("el-col",{attrs:{span:10}},[a("el-button",{key:e.send.sendMessage,attrs:{type:e.send.sendType,model:e.send,disabled:e.send.sendStatus},on:{click:e.sendCode}},[e._v(" "+e._s(e.send.sendMessage)+" ")])],1)],1)],1),a("el-form-item",{attrs:{label:"验证码",prop:"code","label-width":e.formLabelWidth}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.clockForm.code,callback:function(t){e.$set(e.clockForm,"code",t)},expression:"clockForm.code"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeForm("clockForm")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("clockForm")}}},[e._v("添 加")])],1)],1)],1)},se=[],oe=(a("a9e3"),a("25eb"),a("25f0"),a("841c"),{name:"ChinaPlane",data:function(){return{userCity:"武汉",hotCity:"深圳",gridData:"",chinaPlane:"",dialogTableVisible:!1,dialogFormVisible:!1,send:{sendType:"",sendStatus:!1,sendMessage:"发送验证码"},clockForm:{},rules:{email:[{required:!0,type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],code:[{required:!0,message:"请输入正确的验证码",trigger:["blur","change"]}]},formLabelWidth:"120px"}},created:function(){this.search()},methods:{search:function(){var e=this;this.$axios.post("/china_plane",{currentPage:1,pageSize:9,startCity:this.userCity,endCity:this.hotCity,orderByField:"start_time"}).then((function(t){200===t.data.code&&(e.chinaPlane=t.data.data)})).catch((function(e){}))},sendCode:function(){var e=this;this.$axios.post("/send",{email:this.clockForm.email}).then((function(t){200===t.data.code?(e.$message({type:"success",message:"验证码发送成功，请注意接收"}),e.send.sendType="success",e.send.sendStatus="disabled",e.setInterval()):500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误")}))},addClock:function(e){var t=this;if((new Date).getTime()>new Date(this.$route.query.startTime).getTime())return this.$message.error("该航班已经起飞，请注意时间"),!1;this.$axios.get("/authentication").then((function(a){if(200===a.data.code){var l={fightId:e.fid,number:e.number,status:0,type:0};t.$axios.post("/clock",l).then((function(e){200===e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message.error("发生错误，请联系管理员")}))}else 400===a.data.code?(t.dialogTableVisible=!0,t.dialogFormVisible=!0,t.clockForm.plane=e):t.$message.error("请先登录")}))},submitForm:function(e){var t=this;if("NaN"==Number.parseInt(this.clockForm.code))return this.$message.error("请填入正确的验证码格式"),!1;this.$axios.post("/email",{email:this.clockForm.email,code:this.clockForm.code}).then((function(a){if(200===a.data.code){var l={fightId:t.clockForm.plane.fid,number:t.clockForm.plane.number,status:0,type:0};t.$refs[e].validate((function(a){if(!a)return!1;t.$axios.post("/clock",l).then((function(e){200===e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message.error("发生错误，请联系管理员")})),t.closeForm(e)}))}else t.$message.error(a.data.msg)}))},closeForm:function(e){clearInterval(this.interval),this.dialogFormVisible=!1,this.send.sendType="",this.send.sendStatus=!1,this.send.sendMessage="发送验证码"},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=60;this.interval=setInterval((function(){e.send.sendMessage=t,t-=1,-1===t&&(clearInterval(e.interval),e.send.sendType="",e.send.sendStatus=!1,e.send.sendMessage="重新发送验证码")}),1e3)}))}}),re=oe,ce=(a("d2e8"),Object(d["a"])(re,ne,se,!1,null,"49345ac2",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-divider",{attrs:{"content-position":"left"}},[e._v("国外航班")]),a("el-card",{attrs:{shadow:"never"}},[a("div",{staticStyle:{"text-align":"right",width:"100%"}},[a("el-radio-group",{attrs:{size:"small"},on:{change:e.search},model:{value:e.hotCity,callback:function(t){e.hotCity=t},expression:"hotCity"}},[a("el-radio-button",{attrs:{label:"大阪"}}),a("el-radio-button",{attrs:{label:"纽约"}}),a("el-radio-button",{attrs:{label:"巴黎"}}),a("el-radio-button",{attrs:{label:"瑞士"}})],1)],1),a("el-row",{attrs:{gutter:12}},e._l(this.abroadPlane,(function(t){return a("el-col",{attrs:{span:8}},[a("el-popover",{attrs:{placement:"right",width:"430",trigger:"click"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-col",[e._v("起飞机场："+e._s(t.startAirport))]),a("el-col",[e._v("降落机场："+e._s(t.endAirport))]),a("el-col",[e._v("客机机型："+e._s(t.model))]),0===t.type?a("el-col",[e._v("客机型号：小型")]):1===t.type?a("el-col",[e._v("客机型号：中型")]):2===t.type?a("el-col",[e._v("客机型号：大型")]):e._e(),a("el-col",[e._v("客机序号："+e._s(t.number))])],1),a("el-col",{attrs:{span:12}},[a("el-col",[a("h3",[e._v(e._s(t.name))]),a("img",{attrs:{src:t.icon}})]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.addClock(t.id)}}},[e._v("添加提醒"),a("i",{staticClass:"el-icon-alarm-clock"})])],1)],1),a("el-card",{attrs:{slot:"reference",shadow:"hover"},slot:"reference"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[e._v(e._s(t.startCity)+" "),a("i",{staticClass:"el-icon-caret-right"}),e._v(" "+e._s(t.endCity))]),a("el-col",{attrs:{span:12}},[a("h4",{staticStyle:{color:"indianred",float:"right"}},[e._v(e._s(t.price)+" ￥起")])]),a("el-col",[e._v(e._s(t.startTime))])],1)],1)],1)],1)})),1)],1),a("el-dialog",{attrs:{title:"添加邮箱提醒",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"clockForm",attrs:{model:e.clockForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email","label-width":e.formLabelWidth}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.clockForm.email,callback:function(t){e.$set(e.clockForm,"email",t)},expression:"clockForm.email"}})],1),a("el-col",{attrs:{span:10}},[a("el-button",{key:e.send.sendMessage,attrs:{type:e.send.sendType,model:e.send,disabled:e.send.sendStatus},on:{click:e.sendCode}},[e._v(" "+e._s(e.send.sendMessage)+" ")])],1)],1)],1),a("el-form-item",{attrs:{label:"验证码",prop:"code","label-width":e.formLabelWidth}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.clockForm.code,callback:function(t){e.$set(e.clockForm,"code",t)},expression:"clockForm.code"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeForm("clockForm")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("clockForm")}}},[e._v("添 加")])],1)],1)],1)},pe=[],me={name:"AbroadPlane",data:function(){return{userCity:"武汉",hotCity:"瑞士",gridData:"",abroadPlane:"",dialogTableVisible:!1,dialogFormVisible:!1,send:{sendType:"",sendStatus:!1,sendMessage:"发送验证码"},clockForm:{},rules:{email:[{required:!0,message:"请输入邮箱地址",trigger:["blur","change"]},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],code:[{required:!0,message:"请填写验证码"}]},formLabelWidth:"120px"}},created:function(){this.search()},methods:{search:function(){var e=this;this.$axios.post("/abroad_plane",{currentPage:1,pageSize:9,startCity:this.userCity,endCity:this.hotCity,orderByField:"start_time"}).then((function(t){200===t.data.code&&(e.abroadPlane=t.data.data)})).catch((function(e){}))},sendCode:function(){var e=this;this.$axios.post("/send",{email:this.clockForm.email,type:0}).then((function(t){200===t.data.code?"00000"==t.data.data.return_code?(e.$message({type:"success",message:"验证码发送成功，请注意接收"}),e.send.sendType="success",e.send.sendStatus="disabled",e.setInterval()):e.$message.error("验证码发送错误，错误代码:"+t.data.data.return_code):500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误")}))},addClock:function(e){var t=this;if((new Date).getTime()>new Date(this.$route.query.startTime).getTime())return this.$message.error("该航班已经起飞，请注意时间"),!1;this.$axios.get("/authentication").then((function(a){if(200===a.data.code){var l={fightId:e.fid,number:e.number,status:0,type:0};t.$axios.post("/clock",l).then((function(e){200===e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message.error("发生错误，请联系管理员")}))}else 400===a.data.code?(t.dialogTableVisible=!0,t.dialogFormVisible=!0,t.clockForm.plane=e):t.$message.error("请先登录")}))},submitForm:function(e){var t=this;if("NaN"==Number.parseInt(this.clockForm.code))return this.$message.error("请填入正确的验证码格式"),!1;this.$axios.post("/email",{email:this.clockForm.email,code:this.clockForm.code}).then((function(a){if(200===a.data.code){var l={fightId:t.clockForm.plane.fid,number:t.clockForm.plane.number,status:0,type:0};t.$refs[e].validate((function(a){if(!a)return!1;t.$axios.post("/clock",l).then((function(e){200===e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message.error("发生错误，请联系管理员")})),t.closeForm(e)}))}else t.$message.error(a.data.msg)}))},closeForm:function(e){clearInterval(this.interval),this.dialogFormVisible=!1,this.send.sendType="",this.send.sendStatus=!1,this.send.sendMessage="发送验证码"},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=60;this.interval=setInterval((function(){e.send.sendMessage=t,t-=1,-1===t&&(clearInterval(e.interval),e.send.sendType="",e.send.sendStatus=!1,e.send.sendMessage="重新发送验证码")}),1e3)}))}},he=me,fe=(a("8c1e"),Object(d["a"])(he,de,pe,!1,null,"267bad58",null)),be=fe.exports,ve=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ge=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-full",attrs:{"data-role":"footer"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"footer-icon"},[a("div",{staticClass:"col-xs-6 col-sm-4 col-lg-2 col-lg-offset-3"},[a("a",{staticClass:"block block-link-hover3 text-center",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"block-content block-content-full"},[a("i",{staticClass:"fa fa-clock-o fa-4x text-warning"}),a("div",{staticClass:"font-w600 push-15-t"},[e._v("订阅消息实时提醒")])])])]),a("div",{staticClass:"col-xs-6 col-sm-4 col-lg-2"},[a("a",{staticClass:"block block-link-hover3 text-center",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"block-content block-content-full"},[a("i",{staticClass:"fa fa-bar-chart fa-4x text-warning"}),a("div",{staticClass:"font-w600 push-15-t"},[e._v("机场动态随时掌握")])])])]),a("div",{staticClass:"col-xs-6 col-sm-4 col-lg-2"},[a("a",{staticClass:"block block-link-hover3 text-center",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"block-content block-content-full"},[a("i",{staticClass:"fa fa-plane fa-4x text-warning"}),a("div",{staticClass:"font-w600 push-15-t"},[e._v("航班延误险早判断")])])])])])]),a("div",{staticClass:"footer-bottom"},[a("div",{staticClass:"container"},[a("div",{staticClass:"col-lg-1"},[a("a",{attrs:{href:""}},[e._v("常见问题")])]),a("div",{staticClass:"col-lg-1"},[a("a",{attrs:{href:""}},[e._v("关于我们")])]),a("div",{staticClass:"col-lg-1"},[a("a",{attrs:{href:""}},[e._v("联系我们")])]),a("div",{staticClass:"col-lg-12"},[e._v(" 相关链接： "),a("a",{attrs:{href:"https://flights.ctrip.com/",target:"_blank"}},[e._v("携程机票 ")]),a("a",{attrs:{href:"http://www.airchina.com.cn/",target:"_blank"}},[e._v("中国国际航空公司 ")]),a("a",{attrs:{href:"https://flight.qunar.com/?kwid=51321958|26378289945&cooperate=baidu50",target:"_blank"}},[e._v("去哪儿网")])]),a("div",{staticClass:"col-lg-12"},[e._v(" Copyright©2019华东交通大学理工学院16软件工程 ")])])])])}],ye={name:"Footer"},we=ye,ke=(a("f176"),Object(d["a"])(we,ve,ge,!1,null,"126d30f4",null)),Ce=ke.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-backtop",{attrs:{target:".page-component__scroll .el-scrollbar__wrap"}})},xe=[],$e={name:"Backtop"},Se=$e,Fe=Object(d["a"])(Se,_e,xe,!1,null,null,null),De=Fe.exports,Te={name:"Index",components:{Search:ie,ChinaPlane:ue,AbroadPlane:be,Header:D,Footer:Ce,Backtop:De}},ze=Te,Pe=(a("2155"),Object(d["a"])(ze,f,b,!1,null,null,null)),Ae=Pe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("div",{staticClass:"container"},[a("Search"),a("SearchResult")],1),a("Footer"),a("Backtop")],1)},Oe=[],je=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"result"}},[l("el-row",[l("el-col",{attrs:{span:24}},[l("span",{staticClass:"big"},[e._v("搜索：")]),l("span",{staticClass:"big"},[e._v(e._s(this.$route.query.startCity)),l("i",{staticClass:"el-icon el-icon-caret-right",staticStyle:{display:"inline-block"}}),e._v(" "+e._s(this.$route.query.endCity))]),l("span",[e._v(" "+e._s(this.$route.query.startTime))]),e._v(" 所有起飞/到达时间均为当地时间 "),l("el-card",{attrs:{shadow:"never"}},[l("div",{staticClass:"block",staticStyle:{"margin-bottom":"-5px"}},[l("el-row",{attrs:{gutter:5}},[l("el-col",{attrs:{span:3}},[l("el-cascader",{attrs:{placeholder:"中转城市",options:e.options,props:e.props,"collapse-tags":"",clearable:""}})],1),l("el-col",{attrs:{span:4}},[l("el-cascader",{attrs:{placeholder:"航空公司",options:e.options,props:e.props,"collapse-tags":"",clearable:""}})],1),l("el-col",{attrs:{span:4}},[l("el-cascader",{attrs:{placeholder:"起抵时间",options:e.options,props:e.props,"collapse-tags":"",clearable:""}})],1),l("el-col",{attrs:{span:4}},[l("el-cascader",{attrs:{placeholder:"机场",options:e.options,props:e.props,"collapse-tags":"",clearable:""}})],1),l("el-col",{attrs:{span:3}},[l("el-cascader",{attrs:{placeholder:"更多",options:e.more,props:e.props,"collapse-tags":"",clearable:""}})],1),l("el-col",{attrs:{span:2}},[l("el-button",[e._v("重置")])],1)],1),l("el-row",{staticStyle:{"margin-bottom":"-20px","margin-top":"15px"}},[l("el-col",{attrs:{span:2,offset:6}},[l("el-link",{attrs:{underline:!1},on:{click:e.sortStartTime}},[l("i",{staticClass:"el-icon-d-caret"})])],1),l("el-col",{attrs:{span:2,offset:4}},[l("el-link",{attrs:{underline:!1},on:{click:e.sortEndTime}},[l("i",{staticClass:"el-icon-d-caret"})])],1),l("el-col",{attrs:{span:3}},[l("el-link",{attrs:{underline:!1},on:{click:e.sortUseTime}},[l("i",{staticClass:"el-icon-d-caret"})])],1),l("el-col",{attrs:{span:3,offset:3}},[l("el-link",{attrs:{underline:!1},on:{click:e.sortPrice}},[l("i",{staticClass:"el-icon-d-caret"})])],1)],1)],1)])],1)],1),l("el-row",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.load,expression:"load"}],staticClass:"infinite-list",staticStyle:{"overflow-y":"scroll",height:"600px"}},e._l(e.results,(function(t){return 0!=e.results.length?l("el-col",{staticClass:"infinite-list-item",attrs:{span:24}},[l("el-card",{attrs:{shadow:"never"}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:5}},[l("el-col",{attrs:{span:7}},[l("el-avatar",{attrs:{src:t.icon}})],1),l("el-col",{attrs:{span:17}},[l("el-col",[e._v(e._s(t.name))]),l("el-col",[e._v(e._s(t.number)+" ")]),l("el-col",[0==t.type?l("span",[e._v("小型")]):1==t.type?l("span",[e._v("中型")]):2==t.type?l("span",[e._v("大型")]):e._e()])],1)],1),l("el-col",{attrs:{span:11}},[l("el-col",{attrs:{span:6}},[l("el-col",[l("span",{staticClass:"big"},[e._v(e._s(e._f("subString")(t.startTime)))])]),l("el-col",[e._v(" "+e._s(t.startAirport)+" ")])],1),l("el-col",{attrs:{span:7}},[l("img",{staticClass:"right-icon",attrs:{src:a("d16d")}})]),l("el-col",{attrs:{span:7}},[l("el-col",[l("span",{staticClass:"big"},[e._v(e._s(e._f("subString")(t.endTime)))])]),l("el-col",[e._v(" "+e._s(t.endAirport)+" ")])],1),l("el-col",{attrs:{span:4}},[e._v(" 1天 ")])],1),l("el-col",{attrs:{span:3}},[l("el-col",[e._v(" 途径城市 ")]),l("el-col",[l("small",[e._v("上海")]),l("small",[e._v("上海")])])],1),l("el-col",{staticClass:"red",attrs:{span:3}},[l("span",{staticClass:"big"},[e._v(e._s(t.price)+"￥")]),e._v("起 ")]),l("el-col",{attrs:{span:2}},[l("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.addClock(t)}}},[e._v("添加提醒"),l("i",{staticClass:"el-icon-alarm-clock"})])],1)],1)],1)],1):l("el-col",{attrs:{span:24}},[l("el-card",{attrs:{shadow:"never"}},[e._v(" 没有相关搜索记录 ")])],1)})),1),l("el-dialog",{attrs:{title:"添加邮箱提醒",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-form",{ref:"clockForm",attrs:{model:e.clockForm,rules:e.rules}},[l("el-form-item",{attrs:{label:"邮箱",prop:"email","label-width":e.formLabelWidth}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.clockForm.email,callback:function(t){e.$set(e.clockForm,"email",t)},expression:"clockForm.email"}})],1),l("el-col",{attrs:{span:10}},[l("el-button",{key:e.send.sendMessage,attrs:{type:e.send.sendType,model:e.send,disabled:e.send.sendStatus},on:{click:e.sendCode}},[e._v(" "+e._s(e.send.sendMessage)+" ")])],1)],1)],1),l("el-form-item",{attrs:{label:"验证码",prop:"code","label-width":e.formLabelWidth}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:10}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.clockForm.code,callback:function(t){e.$set(e.clockForm,"code",t)},expression:"clockForm.code"}})],1)],1)],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.closeForm("clockForm")}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("clockForm")}}},[e._v("添 加")])],1)],1)],1)},Le=[],Ee={name:"SearchResult",created:function(){var e=this;this.$axios.post("/query",{startCity:this.$route.query.startCity,endCity:this.$route.query.endCity,startTime:this.$route.query.startTime,endTime:this.$route.query.endTime,key:this.$route.query.key,orderByField:"price",isAsc:!1}).then((function(t){if(200===t.data.code){var a=t.data.msg;e.$message({message:a,type:"success"}),e.results=t.data.data.records,console.log(e.results)}})).catch((function(e){}))},data:function(){return{results:"",key:"",count:0,dialogTableVisible:!1,dialogFormVisible:!1,sortStartTimeFlag:!1,sortEndTimeFlag:!1,sortUseTimeFlag:!1,sortPriceFlag:!1,send:{sendType:"",sendStatus:!1,sendMessage:"发送验证码"},clockForm:{email:"",code:"",plane:""},rules:{email:[{required:!0,message:"请输入邮箱地址",trigger:["blur","change"]},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],code:[{required:!0,message:"请填写验证码"}]},formLabelWidth:"120px",props:{multiple:!0},options:[{value:1,label:"东南",children:[{value:2,label:"上海"},{value:7,label:"江苏"},{value:12,label:"浙江"}]},{value:17,label:"西北",children:[{value:18,label:"陕西"},{value:21,label:"新疆维吾尔族自治区"}]}],more:[{value:0,label:"小型"},{value:1,label:"中型"},{value:2,label:"大型"}]}},methods:{load:function(){this.count+=2},sendCode:function(){var e=this;this.$axios.post("/send",{email:this.clockForm.email,type:0}).then((function(t){200===t.data.code?(e.$message({type:"success",message:"验证码发送成功，请注意接收"}),e.send.sendType="success",e.send.sendStatus="disabled",e.setInterval()):500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误")}))},addClock:function(e){var t=this;if((new Date).getTime()>new Date(this.$route.query.startTime).getTime())return this.$message.error("该航班已经起飞，请注意时间"),!1;this.$axios.get("/authentication").then((function(a){if(200===a.data.code){var l={fightId:e.fid,number:e.number,status:0,type:0};t.$axios.post("/clock",l).then((function(e){200===e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message.error("发生错误，请联系管理员")}))}else 400===a.data.code?(t.dialogTableVisible=!0,t.dialogFormVisible=!0,t.clockForm.plane=e):t.$message.error("请先登录")}))},submitForm:function(e){var t=this;if("NaN"==Number.parseInt(this.clockForm.code))return this.$message.error("请填入正确的验证码格式"),!1;this.$axios.post("/email",{email:this.clockForm.email,code:this.clockForm.code}).then((function(a){if(200===a.data.code){var l={fightId:t.clockForm.plane.fid,number:t.clockForm.plane.number,status:0,type:0};t.$refs[e].validate((function(a){if(!a)return!1;t.$axios.post("/clock",l).then((function(e){200===e.data.code?t.$message({type:"success",message:e.data.msg}):t.$message.error("发生错误，请联系管理员")})),t.closeForm(e)}))}else t.$message.error(a.data.msg)}))},closeForm:function(e){clearInterval(this.interval),this.dialogFormVisible=!1,this.send.sendType="",this.send.sendStatus=!1,this.send.sendMessage="发送验证码"},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=60;this.interval=setInterval((function(){e.send.sendMessage=t,t-=1,-1===t&&(clearInterval(e.interval),e.send.sendType="",e.send.sendStatus=!1,e.send.sendMessage="重新发送验证码")}),1e3)})),sortStartTime:function(){var e=this;this.$axios.post("/query",{startCity:this.$route.query.startCity,endCity:this.$route.query.endCity,startTime:this.$route.query.startTime,endTime:this.$route.query.endTime,key:this.$route.query.key,orderByField:"start_time",isAsc:this.sortStartTimeFlag}).then((function(t){200===t.data.code?e.results=t.data.data.records:500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误"),e.sortStartTimeFlag?e.sortStartTimeFlag=!1:e.sortStartTimeFlag=!0}))},sortEndTime:function(){var e=this;this.$axios.post("/query",{startCity:this.$route.query.startCity,endCity:this.$route.query.endCity,startTime:this.$route.query.startTime,endTime:this.$route.query.endTime,key:this.$route.query.key,orderByField:"end_time",isAsc:this.sortEndTimeFlag}).then((function(t){200===t.data.code?e.results=t.data.data.records:500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误"),e.sortEndTimeFlag?e.sortEndTimeFlag=!1:e.sortEndTimeFlag=!0}))},sortUseTime:function(){var e=this;this.$axios.post("/query",{key:this.key,orderByField:"startTime"}).then((function(t){200===t.data.code?e.results=t.data.data.records:500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误")}))},sortPrice:function(){var e=this;this.$axios.post("/query",{startCity:this.$route.query.startCity,endCity:this.$route.query.endCity,startTime:this.$route.query.startTime,endTime:this.$route.query.endTime,key:this.$route.query.key,orderByField:"price",isAsc:this.sortPriceFlag}).then((function(t){200===t.data.code?e.results=t.data.data.records:500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误"),e.sortPriceFlag?e.sortPriceFlag=!1:e.sortPriceFlag=!0}))}},filters:{formatDate:function(e){var t=new Date(e);return formatRiQi(t)},subString:function(e){return""!=e?e.substr(11):e}}},qe=Ee,Re=(a("3a5d"),Object(d["a"])(qe,je,Le,!1,null,"7d82b739",null)),Ie=Re.exports,Be={name:"Index",components:{Search:ie,SearchResult:Ie,Header:D,Footer:Ce,Backtop:De}},Ve=Be,Ne=Object(d["a"])(Ve,Ue,Oe,!1,null,null,null),Me=Ne.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",{attrs:{id:"paper"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-container",attrs:{model:e.loginForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[e._v("系统登录")]),a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"支持邮箱/手机号登录"},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-checkbox",{staticClass:"login_remember",attrs:{"label-position":"left"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[a("span",{staticStyle:{color:"#505458"}},[e._v("记住密码")])]),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"40%",background:"#505458",border:"none",float:"right"},attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),a("el-button",{on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("注册")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogFormVisible,width:"450px","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-tabs",{attrs:{stretch:!0},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"手机号注册",name:"phone"}},[a("el-form",{ref:"phoneFrom",staticStyle:{margin:"0 50px"},attrs:{model:e.phoneFrom,rules:e.phoneRules,"hide-required-asterisk":!1,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"phone"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"中国大陆手机号"},model:{value:e.phoneFrom.phone,callback:function(t){e.$set(e.phoneFrom,"phone",t)},expression:"phoneFrom.phone"}})],1),a("el-form-item",{attrs:{prop:"code"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"验证码"},model:{value:e.phoneFrom.code,callback:function(t){e.$set(e.phoneFrom,"code",t)},expression:"phoneFrom.code"}})],1),a("el-col",{attrs:{span:10}},[a("el-button",{key:e.send.sendMessage,attrs:{type:e.send.sendType,model:e.send,disabled:e.send.sendStatus},on:{click:e.sendCode}},[e._v(" "+e._s(e.send.sendMessage)+" ")])],1)],1)],1),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"昵称"},model:{value:e.phoneFrom.username,callback:function(t){e.$set(e.phoneFrom,"username",t)},expression:"phoneFrom.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.phoneFrom.password,callback:function(t){e.$set(e.phoneFrom,"password",t)},expression:"phoneFrom.password"}})],1),a("el-form-item",[a("el-divider",[e._v("第三方登录")]),a("el-link",{attrs:{underline:!1,href:"http://47.107.131.246:8443/api/getQQCode",target:"_blank"}},[a("i",{staticClass:"iconfont icon-qq1"})]),a("el-link",{attrs:{underline:!1,href:"https://element.eleme.io",target:"_blank"}},[a("i",{staticClass:"iconfont icon-weixin1"})]),a("el-link",{attrs:{underline:!1,href:"https://element.eleme.io",target:"_blank"}},[a("i",{staticClass:"iconfont icon-github1"})])],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info"},on:{click:function(t){return e.submit("phoneFrom")}}},[e._v("注 册")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"邮箱注册",name:"email"}},[a("el-form",{ref:"emailFrom",staticStyle:{margin:"0 50px"},attrs:{model:e.emailFrom,rules:e.emailRules,"hide-required-asterisk":!1,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"邮箱"},model:{value:e.emailFrom.email,callback:function(t){e.$set(e.emailFrom,"email",t)},expression:"emailFrom.email"}})],1),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"昵称"},model:{value:e.emailFrom.username,callback:function(t){e.$set(e.emailFrom,"username",t)},expression:"emailFrom.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.emailFrom.password,callback:function(t){e.$set(e.emailFrom,"password",t)},expression:"emailFrom.password"}})],1),a("el-form-item",[a("el-divider",[e._v("第三方登录")]),a("el-link",{attrs:{underline:!1,href:"/getQQCode",target:"_blank"}},[a("i",{staticClass:"iconfont icon-qq1"})]),a("el-link",{attrs:{underline:!1,href:"https://element.eleme.io",target:"_blank"}},[a("i",{staticClass:"iconfont icon-weixin1"})]),a("el-link",{attrs:{underline:!1,href:"https://element.eleme.io",target:"_blank"}},[a("i",{staticClass:"iconfont icon-github1"})])],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info"},on:{click:function(t){return e.submit("emailFrom")}}},[e._v("注 册")])],1)],1)],1)],1)],1)],1)},We=[],Je=a("8237"),Ge=a.n(Je),Qe=a("1c55"),Xe=a.n(Qe),Ke=a("27ae"),Ye=a.n(Ke),Ze={data:function(){var e=function(e,t,a){""===t?a(new Error("请输入手机号")):/^1[3456789]\d{9}$/.test(t)?a():a(new Error("请输入正确手机号"))};return{dialogFormVisible:!1,rules:{account:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},phoneRules:{phone:[{validator:e,trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"}],username:[{required:!0,message:"昵称不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},emailRules:{email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",required:!0,message:"请输入正确邮箱",trigger:"change"}],username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},send:{sendType:"",sendStatus:!1,sendMessage:"发送验证码"},checked:!0,loginForm:{username:"",password:""},phoneFrom:{phone:"",code:"",username:"",password:""},emailFrom:{email:"",code:"",username:"",password:""},loading:!1,activeName:"phone"}},methods:{sendCode:function(){var e=this,t=this.phoneFrom.phone;""==t&&this.$message.error("请填写手机号"),this.$axios.post("/send",{phone:t}).then((function(t){200===t.data.code?(e.$message({type:"success",message:"验证码发送成功，请注意接收"}),e.send.sendType="success",e.send.sendStatus="disabled",e.setInterval()):500===t.data.code?e.$message.error(t.data.msg):e.$message.error("验证码发送错误")}))},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=60;this.interval=setInterval((function(){e.send.sendMessage=t,t-=1,-1===t&&(clearInterval(e.interval),e.send.sendType="",e.send.sendStatus=!1,e.send.sendMessage="重新发送验证码")}),1e3)})),submit:function(e){var t=this;if("phoneFrom"==e)var a={username:Ye.a.Base64.encode(this.phoneFrom.username),phone:Ye.a.Base64.encode(this.phoneFrom.phone),password:Xe.a.sha3_256(Ge()(this.phoneFrom.password))};else a={username:Ye.a.Base64.encode(this.emailFrom.username),email:Ye.a.Base64.encode(this.emailFrom.email),password:Xe.a.sha3_256(Ge()(this.emailFrom.password))};this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;t.$axios.post("/register",a).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"});var l={token:e.data.data.token,username:e.data.data.username};t.$store.commit("login",l),setTimeout((function(){var e=this.$route.query.redirect;this.$router.replace({path:"#/login"===e||void 0===e?"/":e})}),20)}else t.$message.error(e.data.msg)})).catch((function(e){console.log(e)}))}))},login:function(){var e=this,t=this,a=Xe.a.sha3_256(Ge()(this.loginForm.password)),l=Ye.a.Base64.encode(this.loginForm.account);this.$axios.post("/login",l+a).then((function(a){if(200===a.data.code){var l=a.data.msg;e.$message({message:l,type:"success"});var i={token:a.data.data.token,username:a.data.data.username};e.checked?t.$store.commit("remember",i):t.$store.commit("login",i);var n=t.$route.query.redirect;t.$router.replace({path:"login"===n||void 0===n?"/":n})}else 500===a.data.code?e.$message.error(a.data.msg):e.$message.error("发生错误，联系管理员")})).catch((function(e){}))}}},et=Ze,tt=(a("8518"),Object(d["a"])(et,He,We,!1,null,"169bc768",null)),at=tt.exports,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",{attrs:{id:"paper"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-container",attrs:{model:e.loginForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[e._v("系统登录")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-checkbox",{staticClass:"login_remember",attrs:{"label-position":"left"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[a("span",{staticStyle:{color:"#505458"}},[e._v("记住密码")])]),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"40%",background:"#505458",border:"none",float:"right"},attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)},it=[],nt={data:function(){return{rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},checked:!0,loginForm:{username:"",password:""},loading:!1}},methods:{login:function(){var e=this,t=this;this.$axios.post("/admin/login",{username:this.loginForm.username,password:this.loginForm.password}).then((function(a){if(200===a.data.code){var l=a.data.msg;e.$message({message:l,type:"success"});var i=t.$route.query.redirect;t.$router.replace({path:"/#/admin/index"===i||void 0===i?"/#/admin":i})}else 500===a.data.code?e.$message({message:l,type:"error"}):e.$message({message:"发生错误，联系管理员",type:"error"})})).catch((function(e){}))}}},st=nt,ot=(a("c2b5"),Object(d["a"])(st,lt,it,!1,null,null,null)),rt=ot.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{"min-height":"100%"}},[a("el-aside",[a("NavMenu")],1),a("el-container",[a("el-card",{staticStyle:{width:"90%"}},[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("Header")],1),a("el-main",[a("router-view")],1),a("el-footer",[a("Footer")],1)],1)],1)],1)},ut=[],dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"tac",staticStyle:{"min-height":"100%"}},[a("el-col",{attrs:{span:20}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[a("el-menu-item",{attrs:{index:"1"}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("el-link",{staticClass:"header-title",attrs:{href:"/admin/index",underline:!1}},[e._v("后台管理")])],1)]),a("el-menu-item",{attrs:{index:"2"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 航班信息管理 ")])]),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-aim"}),a("span",[e._v("航班管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/fight/add",underline:!1}},[e._v(" 上传信息 ")])],1),a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/fight/show",underline:!1}},[e._v(" 查看国内航班 ")])],1)],1)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-suitcase"}),a("span",[e._v("航班公司管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/company/add",underline:!1}},[e._v(" 添加公司 ")])],1),a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/company/show",underline:!1}},[e._v(" 查看公司 ")])],1)],1)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-position"}),a("span",[e._v("航班客机管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/plane/add",underline:!1}},[e._v(" 添加客机 ")])],1),a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/plane/show",underline:!1}},[e._v(" 查看客机 ")])],1)],1)],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-chat-line-square"}),a("span",[e._v("航班动态管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/news/add",underline:!1}},[e._v(" 上传动态 ")])],1),a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/news/show",underline:!1}},[e._v(" 查看动态 ")])],1)],1)],2),a("el-menu-item",{attrs:{index:"4"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 权限管理 ")])]),a("el-submenu",{attrs:{index:"9"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-coin"}),a("span",[e._v("角色管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/role/add",underline:!1}},[e._v(" 添加角色 ")])],1),a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/role/show",underline:!1}},[e._v(" 管理角色 ")])],1)],1)],2),a("el-submenu",{attrs:{index:"10"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-coin"}),a("span",[e._v("权限管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/permission/add",underline:!1}},[e._v(" 添加权限 ")])],1),a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/permission/show",underline:!1}},[e._v(" 管理权限 ")])],1)],1)],2),a("el-menu-item",{attrs:{index:"3"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 其他功能管理 ")])]),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-bell"}),a("span",[e._v("提醒管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/task/show",underline:!1}},[e._v(" 查看提醒用户 ")])],1)],1)],2),a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),a("span",[e._v("城市管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/hot/show",underline:!1}},[e._v(" 管理城市 ")])],1)],1),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/hot/show",underline:!1}},[e._v(" 查看热门城市 ")])],1)],1)],2),a("el-submenu",{attrs:{index:"7"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-timer"}),a("span",[e._v("定时器管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/task/show",underline:!1}},[e._v(" 查看定时器 ")])],1)],1)],2),a("el-submenu",{attrs:{index:"8"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),a("span",[e._v("日志管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/log/sql",underline:!1}},[e._v(" 数据库日志 ")])],1),a("el-menu-item",{attrs:{index:"1-1"}},[a("el-link",{attrs:{href:"#/admin/log/error",underline:!1}},[e._v(" 错误日志 ")])],1)],1)],2)],1)],1)],1)},pt=[],mt={name:"NavMenu",methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}}},ht=mt,ft=(a("e1db"),Object(d["a"])(ht,dt,pt,!1,null,"2b5746c1",null)),bt=ft.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入要搜索的内容"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-col",{attrs:{span:2,offset:14}},[a("el-dropdown",[a("el-avatar",{attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("王小虎")]),a("el-dropdown-item",[e._v("注销")]),a("el-dropdown-item",[e._v("锁定账号")])],1)],1)],1)],1)],1)},gt=[],yt={name:"Header",data:function(){return{key:""}},methods:{search:function(e){console.log(e)}}},wt=yt,kt=Object(d["a"])(wt,vt,gt,!1,null,null,null),Ct=kt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 飞机航班信息系统后台管理©华东交通大学理工学院16级 ")])},xt=[],$t={name:"Footer"},St=$t,Ft=(a("c387"),Object(d["a"])(St,_t,xt,!1,null,"30826a8e",null)),Dt=Ft.exports,Tt={name:"Index",components:{NavMenu:bt,Header:Ct,Footer:Dt}},zt=Tt,Pt=(a("8b61"),Object(d["a"])(zt,ct,ut,!1,null,"003d1b0a",null)),At=Pt.exports,Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("热门城市搜索占比")]),a("div",{ref:"myEchart",staticStyle:{width:"400px",height:"400px"}})],1),a("el-col",{attrs:{span:12}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("注册人数")]),a("div",{ref:"echart2",staticStyle:{width:"400px",height:"400px"}})],1)],1)],1)},Ot=[],jt=a("313e"),Lt=a.n(jt),Et={data:function(){return{dataList:[{value:1,name:"0-20分"},{value:3,name:"21-50分"},{value:24,name:"51-70分"},{value:7,name:"71-80分"},{value:3,name:"81-100分"}]}},methods:{initChart:function(){var e=Lt.a.init(this.$refs.myEchart);e.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} <br/> ({d}%)"},series:[{name:"学生作业提交率",type:"pie",radius:"80%",center:["52%","53%"],avoidLabelOverlap:!1,data:this.dataList,itemStyle:{emphasis:{shadowBlur:5,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.3)"}}}]});var t=Lt.a.init(this.$refs.echart2);t.setOption({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} <br/> ({d}%)"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0}]})}},mounted:function(){var e=this.$refs.myEchart;e&&this.initChart()}},qt=Et,Rt=Object(d["a"])(qt,Ut,Ot,!1,null,null,null),It=Rt.exports,Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-page-header",{attrs:{content:"添加航空公司"},on:{back:e.goBack}}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"companyForm",staticClass:"demo-ruleForm",attrs:{model:e.companyForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[a("el-input",{model:{value:e.companyForm.name,callback:function(t){e.$set(e.companyForm,"name",t)},expression:"companyForm.name"}})],1),a("el-form-item",{attrs:{label:"公司图标",prop:"icon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://47.107.131.246:8443/api/admin/company/icon","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"公司介绍",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.companyForm.description,callback:function(t){e.$set(e.companyForm,"description",t)},expression:"companyForm.description"}})],1),a("el-form-item",[a("el-button-group",[a("el-button",{on:{click:e.fileUpload}},[a("i",{staticClass:"el-icon-folder-add"})]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("companyForm")}}},[e._v("添 加")]),a("el-button",{on:{click:function(t){return e.resetForm("companyForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"批量文件上传",visible:e.fileForm},on:{"update:visible":function(t){e.fileForm=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.107.131.246:8443/api/admin/company/file","on-change":e.handleChange,"before-upload":e.beforeFileUpload,"on-success":e.handleFileSuccess}},[a("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("默认上传没有表头，一行标题")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileForm=!1}}},[e._v("完 成")])],1)],1)],1)},Vt=[],Nt=(a("a4d3"),a("e01a"),a("fb6a"),a("3ca3"),a("ddb0"),a("2b3d"),{name:"CompanyAdd",data:function(){return{imageUrl:"",companyForm:{name:"",icon:"",description:""},fileForm:!1,fileList:"",rules:{name:[{required:!0,message:"请输入公司名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],icon:[{required:!0,message:"请上传公司标题"}],description:[{required:!0,message:"请填写公司介绍",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;t.$axios.post("/admin/company/add",{id:t.companyForm.id,name:t.companyForm.name,icon:t.companyForm.icon,description:t.companyForm.description}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"});var l=t.$route.query.redirect;t.$router.replace({path:"/admin/company/add"===l||void 0===l?"/admin/company/show":l})}})).catch((function(e){}))}))},resetForm:function(e){this.$refs[e].resetFields()},goBack:function(){console.log("go back")},handleAvatarSuccess:function(e,t){200===e.code&&(this.$message({message:e.msg,type:"success"}),this.imageUrl=URL.createObjectURL(t.raw),this.companyForm.icon=e.data)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},fileUpload:function(){this.fileForm=!0},handleChange:function(e,t){e.type;this.fileList=t.slice(-3)},handleFileSuccess:function(e,t){if(200===e.code){this.$message({message:e.msg,type:"success"});var a=this.$route.query.redirect;this.$router.replace({path:"/admin/company/add"===a||void 0===a?"/admin/company/show":a})}},beforeFileUpload:function(e){var t="xls"===e.type||"xlsx";return t||this.$message.error("仅支持上传excel文件"),t}}}),Mt=Nt,Ht=(a("b4e2"),Object(d["a"])(Mt,Bt,Vt,!1,null,"59e9813b",null)),Wt=Ht.exports,Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"公司名称"}},[a("span",[e._v(e._s(t.row.name))])]),a("el-form-item",{attrs:{label:"公司详情"}},[a("span",[e._v(e._s(t.row.description))])])],1)]}}])}),a("el-table-column",{attrs:{label:"ID",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.cid))])]}}])}),a("el-table-column",{attrs:{label:"公司名称",width:"240",prop:"name"}}),a("el-table-column",{attrs:{label:"公司图标",width:"200",prop:"icon"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.icon?a("el-avatar",{attrs:{shape:"square",size:60,fit:e.cover,src:t.row.icon}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-button-group",[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.allDel,callback:function(t){e.allDel=t},expression:"allDel"}},[a("p",[e._v("确定一次删除所选内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.allDel=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteAll()}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1),a("el-popover",{attrs:{placement:"top",width:"200"}},[a("p",[e._v("导出excel")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportSelect()}}},[e._v("所选数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportAll()}}},[e._v("所有数据")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-document-add"})])],1),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-printer"})])],1)],1)]}},{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.openDel(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1),a("el-pagination",{attrs:{small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal,"current-page":e.currentPage,"page-sizes":[7,20,40,70,100],"page-size":e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.del,width:"30%",center:""},on:{"update:visible":function(t){e.del=t}}},[a("span",[e._v("确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.del=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDelete()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改公司信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"company",attrs:{model:e.company,rules:e.rules}},[a("el-form-item",{attrs:{label:"公司名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.company.name,callback:function(t){e.$set(e.company,"name",t)},expression:"company.name"}})],1),a("el-form-item",{attrs:{label:"公司图标","label-width":e.formLabelWidth,prop:"icon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://47.107.131.246:8443/api/admin/company/icon","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.company.icon?a("img",{staticClass:"avatar",attrs:{src:e.company.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"公司介绍","label-width":e.formLabelWidth,prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.company.description,callback:function(t){e.$set(e.company,"description",t)},expression:"company.description"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("company")}}},[e._v("修 改")])],1)],1)],1)},Gt=[],Qt=(a("4160"),a("159b"),{name:"CompanyShow",data:function(){return{allDel:!1,del:!1,dialogTableVisible:!1,dialogFormVisible:!1,delData:"",currentPage:1,pageSize:7,pageTotal:0,tableHeight:window.innerHeight-250,tableData:"",key:"",imageUrl:"",company:{id:"",name:"",icon:"",description:""},formLabelWidth:"120px",rules:{name:[{required:!0,message:"请输入公司名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],icon:[{required:!0,message:"请上传公司标题"}],description:[{required:!0,message:"请填写公司介绍",trigger:"blur"}]}}},created:function(){this.initDate()},methods:{initDate:function(){var e=this;this.$axios.post("/admin/company/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(t){200===t.data.code&&(e.tableData=t.data.data.records,e.pageTotal=t.data.data.total)})).catch((function(e){}))},handleEdit:function(e,t){this.company.cid=t.cid,this.company.name=t.name,this.company.description=t.description,this.company.icon=t.icon,this.dialogTableVisible=!0,this.dialogFormVisible=!0},openDel:function(e,t){this.del=!0,this.delData=[t]},handleDelete:function(){this.delete(),this.del=!1},deleteAll:function(){if("undefined"==typeof this.multipleSelection)return this.$message.error("请选择要删除的数据"),!1;this.delData=this.multipleSelection,this.delete(),this.allDel=!1},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess:function(e,t){200===e.code&&(this.$message({message:e.msg,type:"success"}),this.imageUrl=URL.createObjectURL(t.raw),this.company.icon=e.data)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleSizeChange:function(e){var t=this;this.pageSize=e,this.$axios.post("/admin/company/all",{pageSize:this.pageSize,currentPage:this.currentPage,key:this.key}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$axios.post("/admin/company/all",{pageSize:this.pageSize,currentPage:this.currentPage,key:this.key}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},delete:function(){var e=this;this.$axios.post("/admin/company/del",{companies:this.delData}).then((function(t){200===t.data.code?(e.$message({message:t.data.msg,type:"success"}),e.initDate()):e.$message.error("删除出错")}))},exportSelect:function(){if("undefined"==typeof this.multipleSelection)return this.$message.error("请选择要导出的数据"),!1;console.log(this.multipleSelection),this.$axios.post("/admin/export/company",{companies:this.multipleSelection}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download=headers["content-disposition"],document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},exportAll:function(){this.$axios.post("/admin/export/company",{companies:this.tableData}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="12.xls",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},search:function(){var e=this;this.$axios.post("/admin/company/all",{pageSize:this.pageSize,currentPage:1,key:this.key}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},submit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message.error("修改出错"),!1;t.$axios.post("/admin/company/update",{cid:t.company.cid,name:t.company.name,icon:t.company.icon,description:t.company.description}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"}),t.initDate(),t.dialogTableVisible=!1,t.dialogFormVisible=!1}}))}))}}}),Xt=Qt,Kt=(a("a482"),Object(d["a"])(Xt,Jt,Gt,!1,null,"74e3cce0",null)),Yt=Kt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-page-header",{attrs:{content:"添加客机信息"},on:{back:e.goBack}}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"plane",staticClass:"demo-ruleForm",attrs:{model:e.plane,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属公司",prop:"companyId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.plane.companyId,callback:function(t){e.$set(e.plane,"companyId",t)},expression:"plane.companyId"}},e._l(e.plane.company,(function(e){return a("el-option",{key:e.cid,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"客机机型",prop:"model"}},[a("el-input",{model:{value:e.plane.model,callback:function(t){e.$set(e.plane,"model",t)},expression:"plane.model"}})],1),a("el-form-item",{attrs:{label:"客机序号",prop:"number"}},[a("el-input",{model:{value:e.plane.number,callback:function(t){e.$set(e.plane,"number",t)},expression:"plane.number"}})],1),a("el-form-item",{attrs:{label:"客机型号",prop:"type"}},[a("el-radio-group",{model:{value:e.plane.type,callback:function(t){e.$set(e.plane,"type",t)},expression:"plane.type"}},[a("el-radio",{attrs:{label:0}},[e._v("小型")]),a("el-radio",{attrs:{label:1}},[e._v("中型")]),a("el-radio",{attrs:{label:2}},[e._v("大型")])],1)],1),a("el-form-item",[a("el-button",{on:{click:e.fileUpload}},[a("i",{staticClass:"el-icon-folder-add"})]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("plane")}}},[e._v("添 加")]),a("el-button",{on:{click:function(t){return e.resetForm("plane")}}},[e._v("重 置")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"批量文件上传",visible:e.fileForm},on:{"update:visible":function(t){e.fileForm=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange}},[a("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileForm=!1}}},[e._v("取 消")])],1)],1)],1)},ea=[],ta={name:"PlaneAdd",created:function(){var e=this;this.$axios.get("/admin/company/all").then((function(t){e.plane.company=t.data.data}))},data:function(){return{imageUrl:"",plane:{model:"",number:"",company:"",type:1,companyId:""},fileForm:!1,fileList:"",rules:{companyId:[{required:!0,message:"请选择所属公司",trigger:"blur"}],model:[{required:!0,message:"请填写客机机型"}],number:[{required:!0,message:"请填写客机序号",trigger:"blur"}],type:[{required:!0,message:"请选择客机型号",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$axios.post("/admin/plane/add",{model:t.plane.model,number:t.plane.number,type:t.plane.type,companyId:t.plane.companyId}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"});var l=t.$route.query.redirect;t.$router.replace({path:"/admin/plane/add"===l||void 0===l?"/admin/plane/show":l})}})).catch((function(e){}))}))},resetForm:function(e){this.$refs[e].resetFields()},goBack:function(){console.log("go back")},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.plane.resource=e},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},fileUpload:function(){this.fileForm=!0},handleChange:function(e,t){e.type;this.fileList=t.slice(-3)}}},aa=ta,la=(a("8101"),Object(d["a"])(aa,Zt,ea,!1,null,"966ed3d2",null)),ia=la.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"所属公司",width:"200",prop:"name"}}),a("el-table-column",{attrs:{label:"客机机型",width:"200",prop:"model"}}),a("el-table-column",{attrs:{label:"客机序号",width:"200",prop:"number"}}),a("el-table-column",{attrs:{label:"客机型号",width:"100",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?a("el-tag",{attrs:{size:"medium"}},[e._v("小型")]):1===t.row.type?a("el-tag",{attrs:{size:"medium"}},[e._v("中型")]):2===t.row.type?a("el-tag",{attrs:{size:"medium"}},[e._v("大型")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-button-group",[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.allDel,callback:function(t){e.allDel=t},expression:"allDel"}},[a("p",[e._v("确定一次删除所选内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.allDel=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteAll()}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1),a("el-popover",{attrs:{placement:"top",width:"200"}},[a("p",[e._v("导出excel")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportSelect()}}},[e._v("所选数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportAll()}}},[e._v("所有数据")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-document-add"})])],1),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-printer"})])],1)],1)]}},{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.openDel(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1),a("el-pagination",{attrs:{small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal,"current-page":e.currentPage,"page-sizes":[7,20,40,70,100],"page-size":e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.del,width:"30%",center:""},on:{"update:visible":function(t){e.del=t}}},[a("span",[e._v("确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.del=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDelete()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改客机信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"plane",staticClass:"demo-ruleForm",attrs:{model:e.plane,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属公司",prop:"companyId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.plane.companyId,callback:function(t){e.$set(e.plane,"companyId",t)},expression:"plane.companyId"}},e._l(e.plane.company,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"客机机型",prop:"model"}},[a("el-input",{model:{value:e.plane.model,callback:function(t){e.$set(e.plane,"model",t)},expression:"plane.model"}})],1),a("el-form-item",{attrs:{label:"客机序号",prop:"number"}},[a("el-input",{model:{value:e.plane.number,callback:function(t){e.$set(e.plane,"number",t)},expression:"plane.number"}})],1),a("el-form-item",{attrs:{label:"客机型号",prop:"type"}},[a("el-radio-group",{model:{value:e.plane.type,callback:function(t){e.$set(e.plane,"type",t)},expression:"plane.type"}},[a("el-radio",{attrs:{label:0}},[e._v("小型")]),a("el-radio",{attrs:{label:1}},[e._v("中型")]),a("el-radio",{attrs:{label:2}},[e._v("大型")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("company")}}},[e._v("修 改")])],1)],1)],1)},sa=[],oa={name:"PlaneShow",components:{DateTimePicker:L},data:function(){return{allDel:!1,del:!1,dialogTableVisible:!1,dialogFormVisible:!1,delData:"",currentPage:1,pageSize:7,pageTotal:"",tableHeight:window.innerHeight-250,tableData:"",key:"",imageUrl:"",plane:{companyId:"",model:"",number:"",type:""},options:[{value:"zhinan",label:"起飞时间12-25"}],formLabelWidth:"120px",rules:{title:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}}},created:function(){this.initDate()},methods:{initDate:function(){var e=this;this.$axios.post("/admin/plane/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},handleEdit:function(e,t){this.plane.companyId=t.companyId,this.plane.model=t.model,this.plane.number=t.number,this.plane.type=t.type,this.dialogTableVisible=!0,this.dialogFormVisible=!0},openDel:function(e,t){this.del=!0,this.delData=[t]},handleDelete:function(){this.delete(),this.del=!1},deleteAll:function(){if("undefined"==typeof this.multipleSelection)return this.$message.error("请选择要删除的数据"),!1;this.delData=this.multipleSelection,this.delete(),this.allDel=!1},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess:function(e,t){200===e.code&&(this.$message({message:e.msg,type:"success"}),this.imageUrl=URL.createObjectURL(t.raw),this.company.icon=e.data)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleSizeChange:function(e){var t=this;this.pageSize=e,this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$axios.post("/admin/plane/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},delete:function(){var e=this;this.$axios.post("/admin/plane/del",{planes:this.delData}).then((function(t){200===t.data.code?(e.tableData=data,e.$message({message:t.data.msg,type:"success"}),e.initDate()):e.$message.error("删除出错")}))},exportSelect:function(){if("undefined"==typeof this.multipleSelection)return this.$message.error("请选择要导出的数据"),!1;this.$axios.post("/admin/export/planes",{companies:this.multipleSelection}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download=headers["content-disposition"],document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},exportAll:function(){this.$axios.post("/admin/export/planes",{planes:this.tableData}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="12.xls",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},search:function(){var e=this;this.$axios.post("/admin/plane/all",{pageSize:this.pageSize,currentPage:this.currentPage,key:this.key}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},submit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message.error("修改出错"),!1;t.$axios.post("/admin/plane/update",{id:t.company.id,name:t.company.name,icon:t.company.icon,description:t.company.description}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"}),t.initDate(),t.dialogTableVisible=!1,t.dialogFormVisible=!1}}))}))}}},ra=oa,ca=(a("92fd"),Object(d["a"])(ra,na,sa,!1,null,"5d72d3ec",null)),ua=ca.exports,da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"news",staticClass:"demo-ruleForm",attrs:{model:e.news,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"航班计划时间",prop:"content"}},[a("DateTimePicker",{ref:"time"})],1),a("el-form-item",{attrs:{label:"所属航班",prop:"notifyFight"}},[a("el-cascader",{attrs:{placeholder:"选择航班",options:e.options,props:{multiple:!0},filterable:""},model:{value:e.news.notifyFight,callback:function(t){e.$set(e.news,"notifyFight",t)},expression:"news.notifyFight"}})],1),a("el-form-item",{attrs:{label:"航班类型",prop:"type"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.news.type,callback:function(t){e.$set(e.news,"type",t)},expression:"news.type"}},[e._v("国内航班")]),a("el-radio",{attrs:{label:"2"},model:{value:e.news.type,callback:function(t){e.$set(e.news,"type",t)},expression:"news.type"}},[e._v("国外航班")])],1),a("el-form-item",{attrs:{label:"起飞城市",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"降落城市",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"起飞机场",prop:"title"}},[a("el-input",{model:{value:e.news.startAirport,callback:function(t){e.$set(e.news,"startAirport",t)},expression:"news.startAirport"}})],1),a("el-form-item",{attrs:{label:"降落机场",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"是否通知",prop:"isNotify"}},[a("el-switch",{attrs:{"active-text":"通知","inactive-text":"不通知"},model:{value:e.news.isNotify,callback:function(t){e.$set(e.news,"isNotify",t)},expression:"news.isNotify"}})],1),a("el-form-item",{attrs:{label:"通知内容",prop:"notifyContent"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.news.notifyContent,callback:function(t){e.$set(e.news,"notifyContent",t)},expression:"news.notifyContent"}})],1),a("el-form-item",{attrs:{label:"航班状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"计划","inactive-text":"延误"},model:{value:e.news.status,callback:function(t){e.$set(e.news,"status",t)},expression:"news.status"}})],1),a("el-form-item",[a("el-button-group",[a("el-button",{on:{click:e.fileUpload}},[a("i",{staticClass:"el-icon-folder-add"})]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("news")}}},[e._v("添 加")]),a("el-button",{on:{click:function(t){return e.resetForm("news")}}},[e._v("重 置")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"批量文件上传",visible:e.fileForm},on:{"update:visible":function(t){e.fileForm=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange}},[a("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileForm=!1}}},[e._v("取 消")])],1)],1)],1)},pa=[],ma={name:"NewsAdd",components:{DateTimePicker:L},created:function(){var e=this;this.$axios.get("/admin/chinaFight/all").then((function(t){var a=e.filterOptions(t.data.data);e.options=[{label:"国内",children:a}]})),this.$axios.get("/admin/abroadFight/all").then((function(t){var a=e.filterOptions(t.data.data);e.options.push({label:"国外",children:a})}))},data:function(){return{imageUrl:"",news:{title:"",content:"",notifyFight:"",notifyContent:"",status:!0,isNotify:!1,type:"1"},fileForm:!1,fileList:"",rules:{title:[{required:!0,message:"请选择新闻标题",trigger:"blur"}]},options:[{value:"zhinan",label:"起飞时间12-25",children:[{value:"shejiyuanze",label:"国内",children:[{value:"yizhi",label:"起飞城市",children:[{value:"id",label:"目的地",children:[{value:"id",label:"航班序号"}]},{value:"id",label:"目的地",children:[{value:"id",label:"航班序号"}]}]},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"国外",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]}]}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$axios.post("/admin/news/add",{title:t.news.title,planStartTime:t.$refs.time.time[0],planEndTime:t.$refs.time.time[1],notifyFight:t.news.notifyFight,notifyContent:t.news.notifyContent,status:t.news.status?0:1}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"});var l=t.$route.query.redirect;t.$router.replace({path:"/admin/news/add"===l||void 0===l?"/admin/news/show":l})}})).catch((function(e){}))}))},resetForm:function(e){this.$refs[e].resetFields()},goBack:function(){console.log("go back")},fileUpload:function(){this.fileForm=!0},handleChange:function(e,t){e.type;this.fileList=t.slice(-3)},filterOptions:function(e){var t=[];this.afterData=[];for(var a=0;a<e.length;a++)if(-1===t.indexOf(e[a].startCity))this.afterData.push({label:e[a].startCity,children:[e[a]]}),t.push(e[a].startCity);else for(var l=0;l<this.afterData.length;l++)if(this.afterData[l].label==e[a].startCity){this.afterData[l].children.push(e[a]);break}for(var i=0;i<this.afterData.length;i++){var n=[];this.afterDataChilds=[],this.afterDataChild=this.afterData[i].children;for(var s=0;s<this.afterDataChild.length;s++)if(-1===n.indexOf(this.afterDataChild[s].endCity))this.afterDataChilds.push({label:this.afterDataChild[s].endCity,children:[{label:this.afterDataChild[s].number,value:this.afterDataChild[s].id}]}),n.push(this.afterDataChild[s].endCity);else for(var o=0;o<this.afterDataChilds.length;o++)if(this.afterDataChilds[o].label==this.afterDataChild[s].endCity){this.afterDataChilds[o].children.push({label:this.afterDataChild[s].number,value:this.afterDataChild[s].id});break}this.afterData[i].children=this.afterDataChilds}return this.afterData}}},ha=ma,fa=(a("1c75"),Object(d["a"])(ha,da,pa,!1,null,"5de18f68",null)),ba=fa.exports,va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"通知航班"}},[a("span",[e._v(e._s(t.row.notify_fight))])]),a("el-form-item",{attrs:{label:"通知内容"}},[a("span",[e._v(e._s(t.row.notify_content))])])],1)]}}])}),a("el-table-column",{attrs:{label:"标题",width:"200",prop:"title"}}),a("el-table-column",{attrs:{label:"计划开始时间",width:"200",prop:"planStartTime"}}),a("el-table-column",{attrs:{label:"计划结束时间",width:"200",prop:"planEndTime"}}),a("el-table-column",{attrs:{label:"状态",width:"100",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",[e._v("计划正常")]):1===t.row.status?a("el-tag",[e._v("延迟")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-button-group",[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.allDel,callback:function(t){e.allDel=t},expression:"allDel"}},[a("p",[e._v("确定一次删除所选内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.allDel=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteAll()}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1),a("el-popover",{attrs:{placement:"top",width:"200"}},[a("p",[e._v("导出excel")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportSelect()}}},[e._v("所选数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportAll()}}},[e._v("所有数据")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-document-add"})])],1),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-printer"})])],1)],1)]}},{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.openDel(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1),a("el-pagination",{attrs:{small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal,"current-page":e.currentPage,"page-sizes":[7,20,40,70,100],"page-size":e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.del,width:"30%",center:""},on:{"update:visible":function(t){e.del=t}}},[a("span",[e._v("确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.del=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDelete()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改公司信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"news",staticClass:"demo-ruleForm",attrs:{model:e.news,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"航班计划时间",prop:"content"}},[a("DateTimePicker",{ref:"planTime",model:{value:e.news.planTime,callback:function(t){e.$set(e.news,"planTime",t)},expression:"news.planTime"}})],1),a("el-form-item",{attrs:{label:"通知航班",prop:"notifyFight"}},[a("el-cascader",{attrs:{placeholder:"试试搜索：指南",options:e.options,props:{multiple:!0},filterable:""},model:{value:e.news.notifyFight,callback:function(t){e.$set(e.news,"notifyFight",t)},expression:"news.notifyFight"}})],1),a("el-form-item",{attrs:{label:"通知内容",prop:"notifyContent"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.news.notifyContent,callback:function(t){e.$set(e.news,"notifyContent",t)},expression:"news.notifyContent"}})],1),a("el-form-item",{attrs:{label:"航班状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"计划","inactive-text":"延误"},model:{value:e.news.status,callback:function(t){e.$set(e.news,"status",t)},expression:"news.status"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("company")}}},[e._v("修 改")])],1)],1)],1)},ga=[],ya={name:"NewsShow",components:{DateTimePicker:L},data:function(){return{allDel:!1,del:!1,dialogTableVisible:!1,dialogFormVisible:!1,delData:"",currentPage:1,pageSize:7,pageTotal:0,tableHeight:window.innerHeight-250,tableData:"",key:"",imageUrl:"",news:{title:"",notifyFight:"",notifyContent:"",status:"",planTime:""},options:[{value:"zhinan",label:"起飞时间12-25"}],formLabelWidth:"120px",rules:{title:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}}},created:function(){this.initDate()},methods:{initDate:function(){var e=this;this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},handleEdit:function(e,t){this.news.title=t.title,this.news.planTime=[t.planStartTime,t.planEndTime],this.news.notifyFight=t.notifyFight,this.news.notifyContent=t.notifyContent,this.news.status=0===t.status,this.dialogTableVisible=!0,this.dialogFormVisible=!0},openDel:function(e,t){this.del=!0,this.delData=[t]},handleDelete:function(){this.delete(),this.del=!1},deleteAll:function(){this.delData=this.multipleSelection,this.delete(),this.allDel=!1},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess:function(e,t){200===e.code&&(this.$message({message:e.msg,type:"success"}),this.imageUrl=URL.createObjectURL(t.raw),this.company.icon=e.data)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleSizeChange:function(e){var t=this;this.pageSize=e,this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},delete:function(){var e=this;this.$axios.post("/admin/news/del",{news:this.delData}).then((function(t){200===t.data.code?(e.tableData=data,e.$message({message:t.data.msg,type:"success"}),e.initDate()):e.$message.error("删除出错")}))},exportSelect:function(){this.$axios.post("/admin/export/news",{companies:this.multipleSelection}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download=headers["content-disposition"],document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},exportAll:function(){this.$axios.post("/admin/export/news",{companies:this.tableData}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="12.xls",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},search:function(){var e=this;this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage,key:this.key}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},submit:function(e){console.log(this.$refs.planTime.time)}}},wa=ya,ka=(a("5f4e"),Object(d["a"])(wa,va,ga,!1,null,"327dd56c",null)),Ca=ka.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"fight",staticClass:"demo-ruleForm",attrs:{model:e.fight,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属客机",prop:"planeId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.fight.planeId,callback:function(t){e.$set(e.fight,"planeId",t)},expression:"fight.planeId"}},e._l(e.fight.plane,(function(t){return a("el-option",{key:t.id,attrs:{label:t.number,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.number))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.model))])])})),1)],1),a("el-form-item",{attrs:{label:"目的地",prop:"endCity"}},[a("el-input",{model:{value:e.fight.endCity,callback:function(t){e.$set(e.fight,"endCity",t)},expression:"fight.endCity"}})],1),a("el-form-item",{attrs:{label:"始发地",prop:"startCity"}},[a("el-input",{model:{value:e.fight.startCity,callback:function(t){e.$set(e.fight,"startCity",t)},expression:"fight.startCity"}})],1),a("el-form-item",{attrs:{label:"起飞抵达时间",prop:"content"}},[a("DateTimePicker",{ref:"time"})],1),a("el-form-item",{attrs:{label:"起飞机场",prop:"startAirport"}},[a("el-input",{model:{value:e.fight.startAirport,callback:function(t){e.$set(e.fight,"startAirport",t)},expression:"fight.startAirport"}})],1),a("el-form-item",{attrs:{label:"目的机场",prop:"endAirport"}},[a("el-input",{model:{value:e.fight.endAirport,callback:function(t){e.$set(e.fight,"endAirport",t)},expression:"fight.endAirport"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{model:{value:e.fight.price,callback:function(t){e.$set(e.fight,"price",t)},expression:"fight.price"}})],1),a("el-form-item",{attrs:{label:"航班类型",prop:"type"}},[a("el-radio",{attrs:{label:"china"},model:{value:e.fight.type,callback:function(t){e.$set(e.fight,"type",t)},expression:"fight.type"}},[e._v("国内航班")]),a("el-radio",{attrs:{label:"abroad"},model:{value:e.fight.type,callback:function(t){e.$set(e.fight,"type",t)},expression:"fight.type"}},[e._v("国外航班")])],1),a("el-form-item",[a("el-button-group",[a("el-button",{on:{click:e.fileUpload}},[a("i",{staticClass:"el-icon-folder-add"})]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("fight")}}},[e._v("添 加")]),a("el-button",{on:{click:function(t){return e.resetForm("fight")}}},[e._v("重 置")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"批量文件上传",visible:e.fileForm},on:{"update:visible":function(t){e.fileForm=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange}},[a("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileForm=!1}}},[e._v("取 消")])],1)],1)],1)},xa=[],$a=(a("498a"),{name:"FightAdd",components:{DateTimePicker:L},created:function(){var e=this;this.$axios.get("/admin/plane/all").then((function(t){e.fight.plane=t.data.data}))},data:function(){return{imageUrl:"",fight:{type:"china",plane:""},fileForm:!1,fileList:"",rules:{title:[{required:!0,message:"请选择新闻标题",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a={planeId:t.fight.planeId,startCity:t.fight.startCity,endCity:t.fight.endCity,startTime:t.$refs.time.time[0].trim(),endTime:t.$refs.time.time[1].trim(),startAirport:t.fight.startAirport,endAirport:t.fight.endAirport,price:t.fight.price};console.log(a),t.$axios.post("/admin/"+t.fight.type+"Fight/add",a).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"});var l=t.$route.query.redirect;t.$router.replace({path:"/admin/fight/add"===l||void 0===l?"/admin/fight/show":l})}})).catch((function(e){}))}))},resetForm:function(e){this.$refs[e].resetFields()},goBack:function(){console.log("go back")},fileUpload:function(){this.fileForm=!0},handleChange:function(e,t){e.type;this.fileList=t.slice(-3)}}}),Sa=$a,Fa=(a("dc61"),Object(d["a"])(Sa,_a,xa,!1,null,"1d98b974",null)),Da=Fa.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("el-radio-group",{attrs:{size:"medium"},on:{change:e.initDate},model:{value:e.fightType,callback:function(t){e.fightType=t},expression:"fightType"}},[a("el-radio-button",{attrs:{label:"国内航班"}}),a("el-radio-button",{attrs:{label:"国外航班"}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"客机序号"}},[a("span",[e._v(e._s(t.row.planeId))])]),a("el-form-item",{attrs:{label:"客机类型"}},[a("span",[e._v(e._s(t.row.notify_content))])]),a("el-form-item",{attrs:{label:"起飞机场"}},[a("span",[e._v(e._s(t.row.startAirport))])]),a("el-form-item",{attrs:{label:"降落机场"}},[a("span",[e._v(e._s(t.row.endAirport))])])],1)]}}])}),a("el-table-column",{attrs:{label:"起飞地",prop:"startCity"}}),a("el-table-column",{attrs:{label:"目的地",prop:"endCity"}}),a("el-table-column",{attrs:{label:"起飞时间",prop:"startTime"}}),a("el-table-column",{attrs:{label:"降落时间",prop:"endTime"}}),a("el-table-column",{attrs:{label:"价格",prop:"price"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-button-group",[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.allDel,callback:function(t){e.allDel=t},expression:"allDel"}},[a("p",[e._v("确定一次删除所选内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.allDel=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteAll()}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1),a("el-popover",{attrs:{placement:"top",width:"200"}},[a("p",[e._v("导出excel")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportSelect()}}},[e._v("所选数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportAll()}}},[e._v("所有数据")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-document-add"})])],1),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-printer"})])],1)],1)]}},{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.openDel(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1),a("el-pagination",{attrs:{small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal,"current-page":e.currentPage,"page-sizes":[7,20,40,70,100],"page-size":e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.del,width:"30%",center:""},on:{"update:visible":function(t){e.del=t}}},[a("span",[e._v("确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.del=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDelete()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改航班信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"fight",staticClass:"demo-ruleForm",attrs:{model:e.fight,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属客机",prop:"planeId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.fight.planeId,callback:function(t){e.$set(e.fight,"planeId",t)},expression:"fight.planeId"}},e._l(e.fight.plane,(function(t){return a("el-option",{key:t.id,attrs:{label:t.number,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.number))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.model))])])})),1)],1),a("el-form-item",{attrs:{label:"目的地",prop:"endCity"}},[a("el-input",{model:{value:e.fight.endCity,callback:function(t){e.$set(e.fight,"endCity",t)},expression:"fight.endCity"}})],1),a("el-form-item",{attrs:{label:"始发地",prop:"startCity"}},[a("el-input",{model:{value:e.fight.startCity,callback:function(t){e.$set(e.fight,"startCity",t)},expression:"fight.startCity"}})],1),a("el-form-item",{attrs:{label:"起飞抵达时间",prop:"content"}},[a("DateTimePicker",{ref:"time"})],1),a("el-form-item",{attrs:{label:"起飞机场",prop:"startAirport"}},[a("el-input",{model:{value:e.fight.startAirport,callback:function(t){e.$set(e.fight,"startAirport",t)},expression:"fight.startAirport"}})],1),a("el-form-item",{attrs:{label:"目的机场",prop:"endAirport"}},[a("el-input",{model:{value:e.fight.endAirport,callback:function(t){e.$set(e.fight,"endAirport",t)},expression:"fight.endAirport"}})],1),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{model:{value:e.fight.price,callback:function(t){e.$set(e.fight,"price",t)},expression:"fight.price"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("company")}}},[e._v("修 改")])],1)],1)],1)},za=[],Pa={name:"FightShow",components:{DateTimePicker:L},data:function(){return{fightType:"国内航班",allDel:!1,del:!1,dialogTableVisible:!1,dialogFormVisible:!1,delData:"",currentPage:1,pageSize:7,pageTotal:0,tableHeight:window.innerHeight-250,tableData:"",key:"",imageUrl:"",fight:{},options:[{value:"zhinan",label:"起飞时间12-25"}],formLabelWidth:"120px",rules:{title:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}}},created:function(){this.initDate()},methods:{initDate:function(){var e,t=this;e="国内航班"==this.fightType?"chinaFight":"abroadFight",this.currentPage=1,this.$axios.post("/admin/"+e+"/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}})).catch((function(e){}))},handleEdit:function(e,t){this.fight.startCity=t.startCity,this.fight.endCity=t.endCity,this.fight.startTime=[t.planStartTime,t.planEndTime],this.fight.startAirport=t.startAirport,this.fight.endAirport=t.endAirport,this.fight.price=t.price,this.dialogTableVisible=!0,this.dialogFormVisible=!0},openDel:function(e,t){this.del=!0,this.delData=[t]},handleDelete:function(){this.delete(),this.del=!1},deleteAll:function(){this.delData=this.multipleSelection,this.delete(),this.allDel=!1},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess:function(e,t){200===e.code&&(this.$message({message:e.msg,type:"success"}),this.imageUrl=URL.createObjectURL(t.raw),this.company.icon=e.data)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleSizeChange:function(e){var t,a=this;t="国内航班"==this.fightType?"chinaFight":"abroadFight",this.pageSize=e,this.$axios.post("/admin/"+t+"/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var t=e.data.data;a.tableData=t.records,a.pageTotal=t.total}}))},handleCurrentChange:function(e){var t,a=this;t="国内航班"==this.fightType?"chinaFight":"abroadFight",this.currentPage=e,this.$axios.post("/admin/"+t+"/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var t=e.data.data;a.tableData=t.records,a.pageTotal=t.total}}))},delete:function(){var e,t=this;e="国内航班"==this.fightType?"chinaFight":"abroadFight";this.$axios.post("/admin/"+e+"/del",{news:this.delData}).then((function(e){200===e.data.code?(t.tableData=data,t.$message({message:e.data.msg,type:"success"}),t.initDate()):t.$message.error("删除出错")}))},exportSelect:function(){var e;e="国内航班"==this.fightType?"chinaFight":"abroadFight",this.$axios.post("/admin/export/"+e,{companies:this.multipleSelection}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download=headers["content-disposition"],document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},exportAll:function(){var e;e="国内航班"==this.fightType?"chinaFight":"abroadFight",this.$axios.post("/admin/export/"+e,{companies:this.tableData}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="12.xls",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},search:function(){var e,t=this;e="国内航班"==this.fightType?"chinaFight":"abroadFight",this.$axios.post("/admin/"+e+"/all",{pageSize:this.pageSize,currentPage:this.currentPage,key:this.key}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}})).catch((function(e){}))},submit:function(e){console.log(this.$refs.planTime.time)}}},Aa=Pa,Ua=(a("0bbf"),Object(d["a"])(Aa,Ta,za,!1,null,"5bdc106e",null)),Oa=Ua.exports,ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"news",staticClass:"demo-ruleForm",attrs:{model:e.news,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"航班计划时间",prop:"content"}},[a("DateTimePicker",{ref:"time"})],1),a("el-form-item",{attrs:{label:"所属航班",prop:"notifyFight"}},[a("el-cascader",{attrs:{placeholder:"选择航班",options:e.options,props:{multiple:!0},filterable:""},model:{value:e.news.notifyFight,callback:function(t){e.$set(e.news,"notifyFight",t)},expression:"news.notifyFight"}})],1),a("el-form-item",{attrs:{label:"航班类型",prop:"type"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.news.type,callback:function(t){e.$set(e.news,"type",t)},expression:"news.type"}},[e._v("国内航班")]),a("el-radio",{attrs:{label:"2"},model:{value:e.news.type,callback:function(t){e.$set(e.news,"type",t)},expression:"news.type"}},[e._v("国外航班")])],1),a("el-form-item",{attrs:{label:"起飞城市",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"降落城市",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"起飞机场",prop:"title"}},[a("el-input",{model:{value:e.news.startAirport,callback:function(t){e.$set(e.news,"startAirport",t)},expression:"news.startAirport"}})],1),a("el-form-item",{attrs:{label:"降落机场",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"是否通知",prop:"isNotify"}},[a("el-switch",{attrs:{"active-text":"通知","inactive-text":"不通知"},model:{value:e.news.isNotify,callback:function(t){e.$set(e.news,"isNotify",t)},expression:"news.isNotify"}})],1),a("el-form-item",{attrs:{label:"通知内容",prop:"notifyContent"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.news.notifyContent,callback:function(t){e.$set(e.news,"notifyContent",t)},expression:"news.notifyContent"}})],1),a("el-form-item",{attrs:{label:"航班状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"计划","inactive-text":"延误"},model:{value:e.news.status,callback:function(t){e.$set(e.news,"status",t)},expression:"news.status"}})],1),a("el-form-item",[a("el-button-group",[a("el-button",{on:{click:e.fileUpload}},[a("i",{staticClass:"el-icon-folder-add"})]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("news")}}},[e._v("添 加")]),a("el-button",{on:{click:function(t){return e.resetForm("news")}}},[e._v("重 置")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"批量文件上传",visible:e.fileForm},on:{"update:visible":function(t){e.fileForm=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange}},[a("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileForm=!1}}},[e._v("取 消")])],1)],1)],1)},La=[],Ea={name:"NewsAdd",components:{DateTimePicker:L},created:function(){var e=this;this.$axios.get("/admin/chinaFight/all").then((function(t){var a=e.filterOptions(t.data.data);e.options=[{label:"国内",children:a}]})),this.$axios.get("/admin/abroadFight/all").then((function(t){var a=e.filterOptions(t.data.data);e.options.push({label:"国外",children:a})}))},data:function(){return{imageUrl:"",news:{title:"",content:"",notifyFight:"",notifyContent:"",status:!0,isNotify:!1,type:"1"},fileForm:!1,fileList:"",rules:{title:[{required:!0,message:"请选择新闻标题",trigger:"blur"}]},options:[{value:"zhinan",label:"起飞时间12-25",children:[{value:"shejiyuanze",label:"国内",children:[{value:"yizhi",label:"起飞城市",children:[{value:"id",label:"目的地",children:[{value:"id",label:"航班序号"}]},{value:"id",label:"目的地",children:[{value:"id",label:"航班序号"}]}]},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"国外",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]}]}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$axios.post("/admin/news/add",{title:t.news.title,planStartTime:t.$refs.time.time[0],planEndTime:t.$refs.time.time[1],notifyFight:t.news.notifyFight,notifyContent:t.news.notifyContent,status:t.news.status?0:1}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"});var l=t.$route.query.redirect;t.$router.replace({path:"/admin/news/add"===l||void 0===l?"/admin/news/show":l})}})).catch((function(e){}))}))},resetForm:function(e){this.$refs[e].resetFields()},goBack:function(){console.log("go back")},fileUpload:function(){this.fileForm=!0},handleChange:function(e,t){e.type;this.fileList=t.slice(-3)},filterOptions:function(e){var t=[];this.afterData=[];for(var a=0;a<e.length;a++)if(-1===t.indexOf(e[a].startCity))this.afterData.push({label:e[a].startCity,children:[e[a]]}),t.push(e[a].startCity);else for(var l=0;l<this.afterData.length;l++)if(this.afterData[l].label==e[a].startCity){this.afterData[l].children.push(e[a]);break}for(var i=0;i<this.afterData.length;i++){var n=[];this.afterDataChilds=[],this.afterDataChild=this.afterData[i].children;for(var s=0;s<this.afterDataChild.length;s++)if(-1===n.indexOf(this.afterDataChild[s].endCity))this.afterDataChilds.push({label:this.afterDataChild[s].endCity,children:[{label:this.afterDataChild[s].number,value:this.afterDataChild[s].id}]}),n.push(this.afterDataChild[s].endCity);else for(var o=0;o<this.afterDataChilds.length;o++)if(this.afterDataChilds[o].label==this.afterDataChild[s].endCity){this.afterDataChilds[o].children.push({label:this.afterDataChild[s].number,value:this.afterDataChild[s].id});break}this.afterData[i].children=this.afterDataChilds}return this.afterData}}},qa=Ea,Ra=(a("d42b"),Object(d["a"])(qa,ja,La,!1,null,"767c9c36",null)),Ia=Ra.exports,Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"通知航班"}},[a("span",[e._v(e._s(t.row.notify_fight))])]),a("el-form-item",{attrs:{label:"通知内容"}},[a("span",[e._v(e._s(t.row.notify_content))])])],1)]}}])}),a("el-table-column",{attrs:{label:"标题",width:"200",prop:"title"}}),a("el-table-column",{attrs:{label:"计划开始时间",width:"200",prop:"planStartTime"}}),a("el-table-column",{attrs:{label:"计划结束时间",width:"200",prop:"planEndTime"}}),a("el-table-column",{attrs:{label:"状态",width:"100",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",[e._v("计划正常")]):1===t.row.status?a("el-tag",[e._v("延迟")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-button-group",[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.allDel,callback:function(t){e.allDel=t},expression:"allDel"}},[a("p",[e._v("确定一次删除所选内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.allDel=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteAll()}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1),a("el-popover",{attrs:{placement:"top",width:"200"}},[a("p",[e._v("导出excel")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportSelect()}}},[e._v("所选数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportAll()}}},[e._v("所有数据")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-document-add"})])],1),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-printer"})])],1)],1)]}},{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.openDel(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1),a("el-pagination",{attrs:{small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal,"current-page":e.currentPage,"page-sizes":[7,20,40,70,100],"page-size":e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.del,width:"30%",center:""},on:{"update:visible":function(t){e.del=t}}},[a("span",[e._v("确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.del=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDelete()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改公司信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"news",staticClass:"demo-ruleForm",attrs:{model:e.news,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"航班计划时间",prop:"content"}},[a("DateTimePicker",{ref:"planTime",model:{value:e.news.planTime,callback:function(t){e.$set(e.news,"planTime",t)},expression:"news.planTime"}})],1),a("el-form-item",{attrs:{label:"通知航班",prop:"notifyFight"}},[a("el-cascader",{attrs:{placeholder:"试试搜索：指南",options:e.options,props:{multiple:!0},filterable:""},model:{value:e.news.notifyFight,callback:function(t){e.$set(e.news,"notifyFight",t)},expression:"news.notifyFight"}})],1),a("el-form-item",{attrs:{label:"通知内容",prop:"notifyContent"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.news.notifyContent,callback:function(t){e.$set(e.news,"notifyContent",t)},expression:"news.notifyContent"}})],1),a("el-form-item",{attrs:{label:"航班状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"计划","inactive-text":"延误"},model:{value:e.news.status,callback:function(t){e.$set(e.news,"status",t)},expression:"news.status"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("company")}}},[e._v("修 改")])],1)],1)],1)},Va=[],Na={name:"NewsShow",components:{DateTimePicker:L},data:function(){return{allDel:!1,del:!1,dialogTableVisible:!1,dialogFormVisible:!1,delData:"",currentPage:1,pageSize:7,pageTotal:0,tableHeight:window.innerHeight-250,tableData:"",key:"",imageUrl:"",news:{title:"",notifyFight:"",notifyContent:"",status:"",planTime:""},options:[{value:"zhinan",label:"起飞时间12-25"}],formLabelWidth:"120px",rules:{title:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}}},created:function(){this.initDate()},methods:{initDate:function(){var e=this;this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},handleEdit:function(e,t){this.news.title=t.title,this.news.planTime=[t.planStartTime,t.planEndTime],this.news.notifyFight=t.notifyFight,this.news.notifyContent=t.notifyContent,this.news.status=0===t.status,this.dialogTableVisible=!0,this.dialogFormVisible=!0},openDel:function(e,t){this.del=!0,this.delData=[t]},handleDelete:function(){this.delete(),this.del=!1},deleteAll:function(){this.delData=this.multipleSelection,this.delete(),this.allDel=!1},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess:function(e,t){200===e.code&&(this.$message({message:e.msg,type:"success"}),this.imageUrl=URL.createObjectURL(t.raw),this.company.icon=e.data)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleSizeChange:function(e){var t=this;this.pageSize=e,this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},delete:function(){var e=this;this.$axios.post("/admin/news/del",{news:this.delData}).then((function(t){200===t.data.code?(e.tableData=data,e.$message({message:t.data.msg,type:"success"}),e.initDate()):e.$message.error("删除出错")}))},exportSelect:function(){this.$axios.post("/admin/export/news",{companies:this.multipleSelection}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download=headers["content-disposition"],document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},exportAll:function(){this.$axios.post("/admin/export/news",{companies:this.tableData}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="12.xls",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},search:function(){var e=this;this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage,key:this.key}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},submit:function(e){console.log(this.$refs.planTime.time)}}},Ma=Na,Ha=(a("e844"),Object(d["a"])(Ma,Ba,Va,!1,null,"41ad448f",null)),Wa=Ha.exports,Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"news",staticClass:"demo-ruleForm",attrs:{model:e.news,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"航班计划时间",prop:"content"}},[a("DateTimePicker",{ref:"time"})],1),a("el-form-item",{attrs:{label:"所属航班",prop:"notifyFight"}},[a("el-cascader",{attrs:{placeholder:"选择航班",options:e.options,props:{multiple:!0},filterable:""},model:{value:e.news.notifyFight,callback:function(t){e.$set(e.news,"notifyFight",t)},expression:"news.notifyFight"}})],1),a("el-form-item",{attrs:{label:"航班类型",prop:"type"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.news.type,callback:function(t){e.$set(e.news,"type",t)},expression:"news.type"}},[e._v("国内航班")]),a("el-radio",{attrs:{label:"2"},model:{value:e.news.type,callback:function(t){e.$set(e.news,"type",t)},expression:"news.type"}},[e._v("国外航班")])],1),a("el-form-item",{attrs:{label:"起飞城市",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"降落城市",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"起飞机场",prop:"title"}},[a("el-input",{model:{value:e.news.startAirport,callback:function(t){e.$set(e.news,"startAirport",t)},expression:"news.startAirport"}})],1),a("el-form-item",{attrs:{label:"降落机场",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"是否通知",prop:"isNotify"}},[a("el-switch",{attrs:{"active-text":"通知","inactive-text":"不通知"},model:{value:e.news.isNotify,callback:function(t){e.$set(e.news,"isNotify",t)},expression:"news.isNotify"}})],1),a("el-form-item",{attrs:{label:"通知内容",prop:"notifyContent"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.news.notifyContent,callback:function(t){e.$set(e.news,"notifyContent",t)},expression:"news.notifyContent"}})],1),a("el-form-item",{attrs:{label:"航班状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"计划","inactive-text":"延误"},model:{value:e.news.status,callback:function(t){e.$set(e.news,"status",t)},expression:"news.status"}})],1),a("el-form-item",[a("el-button-group",[a("el-button",{on:{click:e.fileUpload}},[a("i",{staticClass:"el-icon-folder-add"})]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("news")}}},[e._v("添 加")]),a("el-button",{on:{click:function(t){return e.resetForm("news")}}},[e._v("重 置")])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"批量文件上传",visible:e.fileForm},on:{"update:visible":function(t){e.fileForm=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange}},[a("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileForm=!1}}},[e._v("取 消")])],1)],1)],1)},Ga=[],Qa={name:"NewsAdd",components:{DateTimePicker:L},created:function(){var e=this;this.$axios.get("/admin/chinaFight/all").then((function(t){var a=e.filterOptions(t.data.data);e.options=[{label:"国内",children:a}]})),this.$axios.get("/admin/abroadFight/all").then((function(t){var a=e.filterOptions(t.data.data);e.options.push({label:"国外",children:a})}))},data:function(){return{imageUrl:"",news:{title:"",content:"",notifyFight:"",notifyContent:"",status:!0,isNotify:!1,type:"1"},fileForm:!1,fileList:"",rules:{title:[{required:!0,message:"请选择新闻标题",trigger:"blur"}]},options:[{value:"zhinan",label:"起飞时间12-25",children:[{value:"shejiyuanze",label:"国内",children:[{value:"yizhi",label:"起飞城市",children:[{value:"id",label:"目的地",children:[{value:"id",label:"航班序号"}]},{value:"id",label:"目的地",children:[{value:"id",label:"航班序号"}]}]},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"国外",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]}]}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$axios.post("/admin/news/add",{title:t.news.title,planStartTime:t.$refs.time.time[0],planEndTime:t.$refs.time.time[1],notifyFight:t.news.notifyFight,notifyContent:t.news.notifyContent,status:t.news.status?0:1}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.$message({message:a,type:"success"});var l=t.$route.query.redirect;t.$router.replace({path:"/admin/news/add"===l||void 0===l?"/admin/news/show":l})}})).catch((function(e){}))}))},resetForm:function(e){this.$refs[e].resetFields()},goBack:function(){console.log("go back")},fileUpload:function(){this.fileForm=!0},handleChange:function(e,t){e.type;this.fileList=t.slice(-3)},filterOptions:function(e){var t=[];this.afterData=[];for(var a=0;a<e.length;a++)if(-1===t.indexOf(e[a].startCity))this.afterData.push({label:e[a].startCity,children:[e[a]]}),t.push(e[a].startCity);else for(var l=0;l<this.afterData.length;l++)if(this.afterData[l].label==e[a].startCity){this.afterData[l].children.push(e[a]);break}for(var i=0;i<this.afterData.length;i++){var n=[];this.afterDataChilds=[],this.afterDataChild=this.afterData[i].children;for(var s=0;s<this.afterDataChild.length;s++)if(-1===n.indexOf(this.afterDataChild[s].endCity))this.afterDataChilds.push({label:this.afterDataChild[s].endCity,children:[{label:this.afterDataChild[s].number,value:this.afterDataChild[s].id}]}),n.push(this.afterDataChild[s].endCity);else for(var o=0;o<this.afterDataChilds.length;o++)if(this.afterDataChilds[o].label==this.afterDataChild[s].endCity){this.afterDataChilds[o].children.push({label:this.afterDataChild[s].number,value:this.afterDataChild[s].id});break}this.afterData[i].children=this.afterDataChilds}return this.afterData}}},Xa=Qa,Ka=(a("129c"),Object(d["a"])(Xa,Ja,Ga,!1,null,"7ae5ce28",null)),Ya=Ka.exports,Za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"通知航班"}},[a("span",[e._v(e._s(t.row.notify_fight))])]),a("el-form-item",{attrs:{label:"通知内容"}},[a("span",[e._v(e._s(t.row.notify_content))])])],1)]}}])}),a("el-table-column",{attrs:{label:"标题",width:"200",prop:"title"}}),a("el-table-column",{attrs:{label:"计划开始时间",width:"200",prop:"planStartTime"}}),a("el-table-column",{attrs:{label:"计划结束时间",width:"200",prop:"planEndTime"}}),a("el-table-column",{attrs:{label:"状态",width:"100",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",[e._v("计划正常")]):1===t.row.status?a("el-tag",[e._v("延迟")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-button-group",[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.allDel,callback:function(t){e.allDel=t},expression:"allDel"}},[a("p",[e._v("确定一次删除所选内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.allDel=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteAll()}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1),a("el-popover",{attrs:{placement:"top",width:"200"}},[a("p",[e._v("导出excel")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportSelect()}}},[e._v("所选数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportAll()}}},[e._v("所有数据")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-document-add"})])],1),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-printer"})])],1)],1)]}},{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.openDel(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1),a("el-pagination",{attrs:{small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal,"current-page":e.currentPage,"page-sizes":[7,20,40,70,100],"page-size":e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.del,width:"30%",center:""},on:{"update:visible":function(t){e.del=t}}},[a("span",[e._v("确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.del=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDelete()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改公司信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"news",staticClass:"demo-ruleForm",attrs:{model:e.news,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新闻标题",prop:"title"}},[a("el-input",{model:{value:e.news.title,callback:function(t){e.$set(e.news,"title",t)},expression:"news.title"}})],1),a("el-form-item",{attrs:{label:"航班计划时间",prop:"content"}},[a("DateTimePicker",{ref:"planTime",model:{value:e.news.planTime,callback:function(t){e.$set(e.news,"planTime",t)},expression:"news.planTime"}})],1),a("el-form-item",{attrs:{label:"通知航班",prop:"notifyFight"}},[a("el-cascader",{attrs:{placeholder:"试试搜索：指南",options:e.options,props:{multiple:!0},filterable:""},model:{value:e.news.notifyFight,callback:function(t){e.$set(e.news,"notifyFight",t)},expression:"news.notifyFight"}})],1),a("el-form-item",{attrs:{label:"通知内容",prop:"notifyContent"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.news.notifyContent,callback:function(t){e.$set(e.news,"notifyContent",t)},expression:"news.notifyContent"}})],1),a("el-form-item",{attrs:{label:"航班状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"计划","inactive-text":"延误"},model:{value:e.news.status,callback:function(t){e.$set(e.news,"status",t)},expression:"news.status"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("company")}}},[e._v("修 改")])],1)],1)],1)},el=[],tl={name:"NewsShow",components:{DateTimePicker:L},data:function(){return{allDel:!1,del:!1,dialogTableVisible:!1,dialogFormVisible:!1,delData:"",currentPage:1,pageSize:7,pageTotal:0,tableHeight:window.innerHeight-250,tableData:"",key:"",imageUrl:"",news:{title:"",notifyFight:"",notifyContent:"",status:"",planTime:""},options:[{value:"zhinan",label:"起飞时间12-25"}],formLabelWidth:"120px",rules:{title:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}}},created:function(){this.initDate()},methods:{initDate:function(){var e=this;this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},handleEdit:function(e,t){this.news.title=t.title,this.news.planTime=[t.planStartTime,t.planEndTime],this.news.notifyFight=t.notifyFight,this.news.notifyContent=t.notifyContent,this.news.status=0===t.status,this.dialogTableVisible=!0,this.dialogFormVisible=!0},openDel:function(e,t){this.del=!0,this.delData=[t]},handleDelete:function(){this.delete(),this.del=!1},deleteAll:function(){this.delData=this.multipleSelection,this.delete(),this.allDel=!1},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess:function(e,t){200===e.code&&(this.$message({message:e.msg,type:"success"}),this.imageUrl=URL.createObjectURL(t.raw),this.company.icon=e.data)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleSizeChange:function(e){var t=this;this.pageSize=e,this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.data;t.tableData=a.records,t.pageTotal=a.total}}))},delete:function(){var e=this;this.$axios.post("/admin/news/del",{news:this.delData}).then((function(t){200===t.data.code?(e.tableData=data,e.$message({message:t.data.msg,type:"success"}),e.initDate()):e.$message.error("删除出错")}))},exportSelect:function(){this.$axios.post("/admin/export/news",{companies:this.multipleSelection}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download=headers["content-disposition"],document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},exportAll:function(){this.$axios.post("/admin/export/news",{companies:this.tableData}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="12.xls",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}))},search:function(){var e=this;this.$axios.post("/admin/news/all",{pageSize:this.pageSize,currentPage:this.currentPage,key:this.key}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageTotal=a.total}})).catch((function(e){}))},submit:function(e){console.log(this.$refs.planTime.time)}}},al=tl,ll=(a("c26c"),Object(d["a"])(al,Za,el,!1,null,"a1cbb730",null)),il=ll.exports,nl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"ID",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"航班序号",width:"240",prop:"number"}}),a("el-table-column",{attrs:{label:"发送状态",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}}),e._v(" "+e._s(t.row.status)+" ")]}}])}),a("el-table-column",{attrs:{label:"类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.type?a("el-tag",{attrs:{size:"medium"}},[e._v("国内航班")]):1==t.row.type?a("el-tag",{attrs:{size:"medium"}},[e._v("国外航班")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{change:e.search},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-button-group",[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.allDel,callback:function(t){e.allDel=t},expression:"allDel"}},[a("p",[e._v("确定一次删除所选内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.allDel=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteAll()}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"})])],1),a("el-popover",{attrs:{placement:"top",width:"200"}},[a("p",[e._v("导出excel")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportSelect()}}},[e._v("所选数据")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportAll()}}},[e._v("所有数据")])],1),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-document-add"})])],1),a("el-button",{attrs:{size:"mini"}},[a("i",{staticClass:"el-icon-printer"})])],1)],1)]}},{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.resent(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-refresh"})]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.openDel(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1),a("el-pagination",{attrs:{small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal,"current-page":e.currentPage,"page-sizes":[7,20,40,70,100],"page-size":e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:e.del,width:"30%",center:""},on:{"update:visible":function(t){e.del=t}}},[a("span",[e._v("确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.del=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDelete()}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改公司信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"company",attrs:{model:e.company,rules:e.rules}},[a("el-form-item",{attrs:{label:"公司名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.company.name,callback:function(t){e.$set(e.company,"name",t)},expression:"company.name"}})],1),a("el-form-item",{attrs:{label:"公司图标","label-width":e.formLabelWidth,prop:"icon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.company.icon?a("img",{staticClass:"avatar",attrs:{src:e.company.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"公司介绍","label-width":e.formLabelWidth,prop:"desc"}},[a("el-input",{attrs:{type:"textarea",rows:7},model:{value:e.company.desc,callback:function(t){e.$set(e.company,"desc",t)},expression:"company.desc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("company")}}},[e._v("修 改")])],1)],1)],1)},sl=[],ol={name:"TaskShow",created:function(){this.initDate()},data:function(){return{allDel:!1,del:!1,dialogTableVisible:!1,dialogFormVisible:!1,delData:"",currentPage:1,pageTotal:0,pageSize:7,tableHeight:window.innerHeight-250,tableData:"",key:"",imageUrl:"",company:{id:"",name:"",icon:"",desc:""},formLabelWidth:"120px",rules:{name:[{required:!0,message:"请输入公司名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],icon:[{required:!0,message:"请上传公司标题"}],desc:[{required:!0,message:"请填写公司介绍",trigger:"blur"}]}}},methods:{initDate:function(){var e=this;this.$axios.post("/admin/message/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(t){if(200===t.data.code){var a=t.data.data;e.tableData=a.records,e.pageSize=a.size,e.pageTotal=a.total}})).catch((function(e){}))},resent:function(e,t){this.company.id=t.id,this.company.name=t.name,this.company.desc=t.desc,this.company.icon=t.icon,this.dialogTableVisible=!0,this.dialogFormVisible=!0},openDel:function(e,t){this.del=!0,this.delData=[t]},handleDelete:function(){this.delete(),this.del=!1},deleteAll:function(){if("undefined"==typeof this.multipleSelection)return this.$message.error("请选择要删除的数据"),!1;this.delData=this.multipleSelection,this.delete(),this.allDel=!1},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.companyForm.resource=e},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&a},handleSizeChange:function(e){var t=this;this.pageSize=e,this.$axios.post("/admin/message/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.tableData=a}}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,this.$axios.post("/admin/message/all",{pageSize:this.pageSize,currentPage:this.currentPage}).then((function(e){if(200===e.data.code){var a=e.data.msg;t.tableData=a}}))},delete:function(){var e=this;this.$axios.post("/admin/message/del",{messages:this.delData}).then((function(t){200===t.data.code?(e.tableData=data,e.$message({message:t.data.msg,type:"success"}),e.initDate()):e.$message.error("删除出错")}))},search:function(){var e=this;console.log(this.key),this.$axios.post("/admin/message/search",{key:this.key}).then((function(t){if(200===t.data.code){var a=t.data.msg;e.tableData=a}}))},submit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message.error("修改出错"),!1;t.$axios.post("/admin/message/update",{id:t.company.id,name:t.company.name,icon:t.company.icon,description:t.company.desc}).then((function(e){if(200===e.data.code){e.data.msg;t.$message({message:"修改成功",type:"success"}),t.dialogTableVisible=!1,t.dialogFormVisible=!1}}))}))}}},rl=ol,cl=(a("3618"),Object(d["a"])(rl,nl,sl,!1,null,"62a67a64",null)),ul=cl.exports,dl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"min-height":"100%"}},[a("div",{staticClass:"container"},[a("el-card",[a("el-page-header",{attrs:{content:"新闻资讯详情页面"},on:{back:e.goBack}}),a("el-card",{staticStyle:{"margin-top":"35px"}},[a("el-select",{attrs:{filterable:"",placeholder:"航班号查询"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.number))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.model))])])})),1),a("el-button",{attrs:{icon:"el-icon-search"}})],1),a("el-card",{staticStyle:{"margin-top":"30px","margin-bottom":"20px"}},[a("el-row",[a("el-col",[a("h4",{staticClass:"title"},[e._v(e._s(this.news.title))])]),a("el-col",{attrs:{span:6,offset:3}},[a("el-col",[e._v("实际起飞")]),a("el-col",[a("h4",[e._v(e._s(this.news.planStartTime))])]),a("el-col",[e._v("计划起飞")]),a("el-col",[e._v(e._s(this.news.planStartTime))])],1),a("el-col",{attrs:{span:6}},[0==this.news.status?a("el-col",[a("el-button",{staticClass:"circle-button",attrs:{type:"success",circle:""}},[e._v("计划")])],1):1==this.news.status?a("el-col",[a("el-button",{staticClass:"circle-button",attrs:{type:"danger",circle:""}},[e._v("延误")])],1):e._e()],1),a("el-col",{attrs:{span:6}},[a("el-col",[e._v("实际到达")]),a("el-col",[a("h4",[e._v(e._s(this.news.planEndTime))])]),a("el-col",[e._v("计划到达")]),a("el-col",[e._v(e._s(this.news.planEndTime))])],1),a("el-col",{attrs:{span:6,offset:3}},[a("el-col",[e._v("深圳"+e._s(this.news.startCity))]),a("el-col",[e._v("机场"+e._s(this.news.startAirport))])],1),a("el-col",{attrs:{span:6}},[0==this.news.status?a("el-col",[a("el-progress",{attrs:{percentage:100,status:"success"}})],1):1==this.news.status?a("el-col",[a("el-progress",{attrs:{percentage:100,status:"danger"}})],1):e._e()],1),a("el-col",{attrs:{span:6}},[a("el-col",[e._v("武汉"+e._s(this.news.endCity))]),a("el-col",[e._v("机场"+e._s(this.news.endAirport))])],1)],1)],1)],1)],1),a("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[a("Footer")],1),a("Backtop")],1)},pl=[],ml={data:function(){return{news:"",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:""}},created:function(){var e=this,t=location.href,a=t.split("/"),l=a[a.length-1];this.$axios.get("/news/"+l).then((function(t){200===t.data.code&&(e.news=t.data.data)}))},components:{Footer:Ce,Backtop:De},methods:{goBack:function(){location.href="/plane/#/"}}},hl=ml,fl=(a("6ab2"),Object(d["a"])(hl,dl,pl,!1,null,"18824a82",null)),bl=fl.exports,vl=a("f5de"),gl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"min-height":"100%"}},[a("div",{staticClass:"container"},[a("el-card",[a("el-page-header",{attrs:{content:"我的提醒页面"},on:{back:e.goBack}}),a("el-card",{staticStyle:{"margin-top":"35px"}},[a("el-select",{attrs:{filterable:"",placeholder:"航班号查询"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.number))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.model))])])})),1),a("el-button",{attrs:{icon:"el-icon-search"}})],1),a("el-card",{staticStyle:{"margin-top":"30px","margin-bottom":"20px"}},[""!=this.myClock?a("el-timeline",[a("el-timeline-item",{attrs:{timestamp:"2018/4/12",placement:"top"}},[a("el-card",[a("h4",[e._v("上海-深圳")]),a("p",[e._v("29389U 提交于 2018/4/12 20:46")])])],1),a("el-timeline-item",{attrs:{timestamp:"2018/4/3",placement:"top"}},[a("el-card",[a("h4",[e._v("更新 Github 模板")]),a("p",[e._v("王小虎 提交于 2018/4/3 20:46")])])],1),a("el-timeline-item",{attrs:{timestamp:"2018/4/2",placement:"top"}},[a("el-card",[a("h4",[e._v("更新 Github 模板")]),a("p",[e._v("王小虎 提交于 2018/4/2 20:46")])])],1)],1):a("div",[e._v(" 您还没有添加提醒的航班哦 ")])],1)],1)],1),a("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[a("Footer")],1),a("Backtop")],1)},yl=[],wl={data:function(){return{myClock:"",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:""}},created:function(){var e=this;this.$axios.get("/myClock").then((function(t){200===t.data.code&&(e.myClock=t.data.data)}))},components:{Footer:Ce,Backtop:De},methods:{goBack:function(){location.href="/"}}},kl=wl,Cl=(a("312c"),Object(d["a"])(kl,gl,yl,!1,null,"17d62256",null)),_l=Cl.exports,xl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("Search"),a("ChinaHot"),a("AbroadHot"),a("Footer")],1)},$l=[],Sl=a("ade3"),Fl=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("van-icon",{attrs:{name:"smile-o"},on:{click:function(t){e.show=!0}}}),l("van-action-sheet",{attrs:{actions:e.actions},on:{select:e.onSelect},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),l("van-swipe",{staticStyle:{height:"11rem"},attrs:{autoplay:3e3,"indicator-color":"white"}},[l("van-swipe-item",{staticStyle:{overflow:"hidden"}},[l("img",{attrs:{src:a("2279")}})]),l("van-swipe-item",[l("img",{attrs:{src:a("2279")}})]),l("van-swipe-item",[l("img",{attrs:{src:a("2279")}})])],1)],1)},Dl=[],Tl={name:"Header",data:function(){return{show:!1,actions:[{name:"登录"},{name:"选项"},{name:"选项",subname:"描述信息"}]}},methods:{onSelect:function(e){this.show=!1,Toast(e.name)}}},zl=Tl,Pl=(a("e936"),Object(d["a"])(zl,Fl,Dl,!1,null,"049e8499",null)),Al=Pl.exports,Ul=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("van-tab",{attrs:{title:"国内航班"}},[a("van-grid",{attrs:{"column-num":3,border:!1}},[a("van-grid-item",[a("ChinaCitySelect")],1),a("van-grid-item",[a("van-icon",{attrs:{name:"exchange"}})],1),a("van-grid-item",[a("ChinaCitySelect")],1)],1),a("van-grid",{attrs:{"column-num":1,border:!1}},[a("van-grid-item",[a("DateTimePicker")],1),a("van-grid-item",[a("van-button",{attrs:{icon:"search",round:"",type:"info"}},[e._v("搜索")])],1)],1)],1),a("van-tab",{attrs:{title:"国外航班"}},[a("van-grid",{attrs:{"column-num":3,border:!1}},[a("van-grid-item",[a("ChinaCitySelect")],1),a("van-grid-item",[a("van-icon",{attrs:{name:"exchange"}})],1),a("van-grid-item",[a("ChinaCitySelect")],1)],1),a("van-grid",{attrs:{"column-num":1,border:!1}},[a("van-grid-item",[a("DateTimePicker")],1),a("van-grid-item",[a("van-button",{attrs:{icon:"search",round:"",type:"info"}},[e._v("搜索")])],1)],1)],1),a("van-tab",{attrs:{title:"新闻资讯"}},[a("van-grid",{attrs:{"column-num":3,border:!1}},[a("van-grid-item",[a("ChinaCitySelect")],1),a("van-grid-item",[a("van-icon",{attrs:{name:"exchange"}})],1),a("van-grid-item",[a("ChinaCitySelect")],1)],1),a("van-grid",{attrs:{"column-num":1,border:!1}},[a("van-grid-item",[a("DateTimePicker")],1),a("van-grid-item",[a("van-button",{attrs:{icon:"search",round:"",type:"info"}},[e._v("搜索")])],1)],1)],1)],1)},Ol=[],jl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{attrs:{"is-link":""},on:{click:e.showPopup}},[e._v(e._s(this.city))]),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("van-area",{attrs:{"area-list":e.areaList,"columns-num":2,title:"标题"},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1)],1)},Ll=[],El={name:"ChinaCitySelect",data:function(){return{city:"武汉",show:!1,areaList:{province_list:{11e4:"北京市",12e4:"天津市",13e4:"河北省",14e4:"山西省",15e4:"内蒙古自治区",21e4:"辽宁省",22e4:"吉林省",23e4:"黑龙江省",31e4:"上海市",32e4:"江苏省",33e4:"浙江省",34e4:"安徽省",35e4:"福建省",36e4:"江西省",37e4:"山东省",41e4:"河南省",42e4:"湖北省",43e4:"湖南省",44e4:"广东省",45e4:"广西壮族自治区",46e4:"海南省",5e5:"重庆市",51e4:"四川省",52e4:"贵州省",53e4:"云南省",54e4:"西藏自治区",61e4:"陕西省",62e4:"甘肃省",63e4:"青海省",64e4:"宁夏回族自治区",65e4:"新疆维吾尔自治区",71e4:"台湾省",81e4:"香港特别行政区",82e4:"澳门特别行政区",9e5:"海外"},city_list:{110100:"北京市",120100:"天津市",130100:"石家庄市",130200:"唐山市",130300:"秦皇岛市",130400:"邯郸市",130500:"邢台市",130600:"保定市",130700:"张家口市",130800:"承德市",130900:"沧州市",131e3:"廊坊市",131100:"衡水市",140100:"太原市",140200:"大同市",140300:"阳泉市",140400:"长治市",140500:"晋城市",140600:"朔州市",140700:"晋中市",140800:"运城市",140900:"忻州市",141e3:"临汾市",141100:"吕梁市",150100:"呼和浩特市",150200:"包头市",150300:"乌海市",150400:"赤峰市",150500:"通辽市",150600:"鄂尔多斯市",150700:"呼伦贝尔市",150800:"巴彦淖尔市",150900:"乌兰察布市",152200:"兴安盟",152500:"锡林郭勒盟",152900:"阿拉善盟",210100:"沈阳市",210200:"大连市",210300:"鞍山市",210400:"抚顺市",210500:"本溪市",210600:"丹东市",210700:"锦州市",210800:"营口市",210900:"阜新市",211e3:"辽阳市",211100:"盘锦市",211200:"铁岭市",211300:"朝阳市",211400:"葫芦岛市",220100:"长春市",220200:"吉林市",220300:"四平市",220400:"辽源市",220500:"通化市",220600:"白山市",220700:"松原市",220800:"白城市",222400:"延边朝鲜族自治州",230100:"哈尔滨市",230200:"齐齐哈尔市",230300:"鸡西市",230400:"鹤岗市",230500:"双鸭山市",230600:"大庆市",230700:"伊春市",230800:"佳木斯市",230900:"七台河市",231e3:"牡丹江市",231100:"黑河市",231200:"绥化市",232700:"大兴安岭地区",310100:"上海市",320100:"南京市",320200:"无锡市",320300:"徐州市",320400:"常州市",320500:"苏州市",320600:"南通市",320700:"连云港市",320800:"淮安市",320900:"盐城市",321e3:"扬州市",321100:"镇江市",321200:"泰州市",321300:"宿迁市",330100:"杭州市",330200:"宁波市",330300:"温州市",330400:"嘉兴市",330500:"湖州市",330600:"绍兴市",330700:"金华市",330800:"衢州市",330900:"舟山市",331e3:"台州市",331100:"丽水市",340100:"合肥市",340200:"芜湖市",340300:"蚌埠市",340400:"淮南市",340500:"马鞍山市",340600:"淮北市",340700:"铜陵市",340800:"安庆市",341e3:"黄山市",341100:"滁州市",341200:"阜阳市",341300:"宿州市",341500:"六安市",341600:"亳州市",341700:"池州市",341800:"宣城市",350100:"福州市",350200:"厦门市",350300:"莆田市",350400:"三明市",350500:"泉州市",350600:"漳州市",350700:"南平市",350800:"龙岩市",350900:"宁德市",360100:"南昌市",360200:"景德镇市",360300:"萍乡市",360400:"九江市",360500:"新余市",360600:"鹰潭市",360700:"赣州市",360800:"吉安市",360900:"宜春市",361e3:"抚州市",361100:"上饶市",370100:"济南市",370200:"青岛市",370300:"淄博市",370400:"枣庄市",370500:"东营市",370600:"烟台市",370700:"潍坊市",370800:"济宁市",370900:"泰安市",371e3:"威海市",371100:"日照市",371300:"临沂市",371400:"德州市",371500:"聊城市",371600:"滨州市",371700:"菏泽市",410100:"郑州市",410200:"开封市",410300:"洛阳市",410400:"平顶山市",410500:"安阳市",410600:"鹤壁市",410700:"新乡市",410800:"焦作市",410900:"濮阳市",411e3:"许昌市",411100:"漯河市",411200:"三门峡市",411300:"南阳市",411400:"商丘市",411500:"信阳市",411600:"周口市",411700:"驻马店市",419e3:"省直辖县",420100:"武汉市",420200:"黄石市",420300:"十堰市",420500:"宜昌市",420600:"襄阳市",420700:"鄂州市",420800:"荆门市",420900:"孝感市",421e3:"荆州市",421100:"黄冈市",421200:"咸宁市",421300:"随州市",422800:"恩施土家族苗族自治州",429e3:"省直辖县",430100:"长沙市",430200:"株洲市",430300:"湘潭市",430400:"衡阳市",430500:"邵阳市",430600:"岳阳市",430700:"常德市",430800:"张家界市",430900:"益阳市",431e3:"郴州市",431100:"永州市",431200:"怀化市",431300:"娄底市",433100:"湘西土家族苗族自治州",440100:"广州市",440200:"韶关市",440300:"深圳市",440400:"珠海市",440500:"汕头市",440600:"佛山市",440700:"江门市",440800:"湛江市",440900:"茂名市",441200:"肇庆市",441300:"惠州市",441400:"梅州市",441500:"汕尾市",441600:"河源市",441700:"阳江市",441800:"清远市",441900:"东莞市",442e3:"中山市",445100:"潮州市",445200:"揭阳市",445300:"云浮市",450100:"南宁市",450200:"柳州市",450300:"桂林市",450400:"梧州市",450500:"北海市",450600:"防城港市",450700:"钦州市",450800:"贵港市",450900:"玉林市",451e3:"百色市",451100:"贺州市",451200:"河池市",451300:"来宾市",451400:"崇左市",460100:"海口市",460200:"三亚市",460300:"三沙市",460400:"儋州市",469e3:"省直辖县",500100:"重庆市",500200:"县",510100:"成都市",510300:"自贡市",510400:"攀枝花市",510500:"泸州市",510600:"德阳市",510700:"绵阳市",510800:"广元市",510900:"遂宁市",511e3:"内江市",511100:"乐山市",511300:"南充市",511400:"眉山市",511500:"宜宾市",511600:"广安市",511700:"达州市",511800:"雅安市",511900:"巴中市",512e3:"资阳市",513200:"阿坝藏族羌族自治州",513300:"甘孜藏族自治州",513400:"凉山彝族自治州",520100:"贵阳市",520200:"六盘水市",520300:"遵义市",520400:"安顺市",520500:"毕节市",520600:"铜仁市",522300:"黔西南布依族苗族自治州",522600:"黔东南苗族侗族自治州",522700:"黔南布依族苗族自治州",530100:"昆明市",530300:"曲靖市",530400:"玉溪市",530500:"保山市",530600:"昭通市",530700:"丽江市",530800:"普洱市",530900:"临沧市",532300:"楚雄彝族自治州",532500:"红河哈尼族彝族自治州",532600:"文山壮族苗族自治州",532800:"西双版纳傣族自治州",532900:"大理白族自治州",533100:"德宏傣族景颇族自治州",533300:"怒江傈僳族自治州",533400:"迪庆藏族自治州",540100:"拉萨市",540200:"日喀则市",540300:"昌都市",540400:"林芝市",540500:"山南市",540600:"那曲市",542500:"阿里地区",610100:"西安市",610200:"铜川市",610300:"宝鸡市",610400:"咸阳市",610500:"渭南市",610600:"延安市",610700:"汉中市",610800:"榆林市",610900:"安康市",611e3:"商洛市",620100:"兰州市",620200:"嘉峪关市",620300:"金昌市",620400:"白银市",620500:"天水市",620600:"武威市",620700:"张掖市",620800:"平凉市",620900:"酒泉市",621e3:"庆阳市",621100:"定西市",621200:"陇南市",622900:"临夏回族自治州",623e3:"甘南藏族自治州",630100:"西宁市",630200:"海东市",632200:"海北藏族自治州",632300:"黄南藏族自治州",632500:"海南藏族自治州",632600:"果洛藏族自治州",632700:"玉树藏族自治州",632800:"海西蒙古族藏族自治州",640100:"银川市",640200:"石嘴山市",640300:"吴忠市",640400:"固原市",640500:"中卫市",650100:"乌鲁木齐市",650200:"克拉玛依市",650400:"吐鲁番市",650500:"哈密市",652300:"昌吉回族自治州",652700:"博尔塔拉蒙古自治州",652800:"巴音郭楞蒙古自治州",652900:"阿克苏地区",653e3:"克孜勒苏柯尔克孜自治州",653100:"喀什地区",653200:"和田地区",654e3:"伊犁哈萨克自治州",654200:"塔城地区",654300:"阿勒泰地区",659e3:"自治区直辖县级行政区划",710100:"台北市",710200:"高雄市",710300:"台南市",710400:"台中市",710500:"金门县",710600:"南投县",710700:"基隆市",710800:"新竹市",710900:"嘉义市",711100:"新北市",711200:"宜兰县",711300:"新竹县",711400:"桃园县",711500:"苗栗县",711700:"彰化县",711900:"嘉义县",712100:"云林县",712400:"屏东县",712500:"台东县",712600:"花莲县",712700:"澎湖县",712800:"连江县",810100:"香港岛",810200:"九龙",810300:"新界",820100:"澳门半岛",820200:"离岛",900400:"阿富汗",900800:"阿尔巴尼亚",901e3:"南极洲",901200:"阿尔及利亚",901600:"美属萨摩亚",902e3:"安道尔",902400:"安哥拉",902800:"安提瓜和巴布达",903100:"阿塞拜疆",903200:"阿根廷",903600:"澳大利亚",904e3:"奥地利",904400:"巴哈马",904800:"巴林",905e3:"孟加拉",905100:"亚美尼亚",905200:"巴巴多斯",905600:"比利时",906e3:"百慕大",906400:"不丹",906800:"玻利维亚",907e3:"波黑",907200:"博茨瓦纳",907400:"布韦岛",907600:"巴西",908400:"伯利兹",908600:"英属印度洋领地",909e3:"所罗门群岛",909200:"英属维尔京群岛",909600:"文莱",91e4:"保加利亚",910400:"缅甸",910800:"布隆迪",911200:"白俄罗斯",911600:"柬埔寨",912e3:"喀麦隆",912400:"加拿大",913200:"佛得角",913600:"开曼群岛",914e3:"中非",914400:"斯里兰卡",914800:"乍得",915200:"智利",916200:"圣诞岛",916600:"科科斯群岛",917e3:"哥伦比亚",917400:"科摩罗",917500:"马约特",917800:"刚果（布）",918e3:"刚果（金）",918400:"库克群岛",918800:"哥斯达黎加",919100:"克罗地亚",919200:"古巴",919600:"塞浦路斯",920300:"捷克",920400:"贝宁",920800:"丹麦",921200:"多米尼克",921400:"多米尼加",921800:"厄瓜多尔",922200:"萨尔瓦多",922600:"赤道几内亚",923100:"埃塞俄比亚",923200:"厄立特里亚",923300:"爱沙尼亚",923400:"法罗群岛",923800:"马尔维纳斯群岛（ 福克兰）",923900:"南乔治亚岛和南桑威奇群岛",924200:"斐济群岛",924600:"芬兰",924800:"奥兰群岛",925e3:"法国",925400:"法属圭亚那",925800:"法属波利尼西亚",926e3:"法属南部领地",926200:"吉布提",926600:"加蓬",926800:"格鲁吉亚",927e3:"冈比亚",927500:"巴勒斯坦",927600:"德国",928800:"加纳",929200:"直布罗陀",929600:"基里巴斯",93e4:"希腊",930400:"格陵兰",930800:"格林纳达",931200:"瓜德罗普",931600:"关岛",932e3:"危地马拉",932400:"几内亚",932800:"圭亚那",933200:"海地",933400:"赫德岛和麦克唐纳群岛",933600:"梵蒂冈",934e3:"洪都拉斯",934800:"匈牙利",935200:"冰岛",935600:"印度",936e3:"印尼",936400:"伊朗",936800:"伊拉克",937200:"爱尔兰",937600:"以色列",938e3:"意大利",938400:"科特迪瓦",938800:"牙买加",939200:"日本",939800:"哈萨克斯坦",94e4:"约旦",940400:"肯尼亚",940800:"朝鲜 北朝鲜",941e3:"韩国",941400:"科威特",941700:"吉尔吉斯斯坦",941800:"老挝",942200:"黎巴嫩",942600:"莱索托",942800:"拉脱维亚",943e3:"利比里亚",943400:"利比亚",943800:"列支敦士登",944e3:"立陶宛",944200:"卢森堡",945e3:"马达加斯加",945400:"马拉维",945800:"马来西亚",946200:"马尔代夫",946600:"马里",947e3:"马耳他",947400:"马提尼克",947800:"毛里塔尼亚",948e3:"毛里求斯",948400:"墨西哥",949200:"摩纳哥",949600:"蒙古国",949800:"摩尔多瓦",949900:"黑山",95e4:"蒙塞拉特岛",950400:"摩洛哥",950800:"莫桑比克",951200:"阿曼",951600:"纳米比亚",952e3:"瑙鲁",952400:"尼泊尔",952800:"荷兰",953300:"阿鲁巴",953500:"荷兰加勒比区",954e3:"新喀里多尼亚",954800:"瓦努阿图",955400:"新西兰",955800:"尼加拉瓜",956200:"尼日尔",956600:"尼日利亚",957e3:"纽埃",957400:"诺福克岛",957800:"挪威",958e3:"北马里亚纳群岛",958100:"美国本土外小岛屿",958300:"密克罗尼西亚联邦",958400:"马绍尔群岛",958500:"帕劳",958600:"巴基斯坦",959100:"巴拿马",959800:"巴布亚新几内亚",96e4:"巴拉圭",960400:"秘鲁",960800:"菲律宾",961200:"皮特凯恩群岛",961600:"波兰",962e3:"葡萄牙",962400:"几内亚比绍",962600:"东帝汶",963e3:"波多黎各",963400:"卡塔尔",963800:"留尼汪",964200:"罗马尼亚",964300:"俄罗斯",964600:"卢旺达",965200:"圣巴泰勒米岛",965400:"圣赫勒拿",965900:"圣基茨和尼维斯",966e3:"安圭拉",966200:"圣卢西亚",966300:"法属圣马丁",966600:"圣皮埃尔和密克隆",967e3:"圣文森特和格林纳丁斯",967400:"圣马力诺",967800:"圣多美和普林西比",968200:"沙特阿拉伯",968600:"塞内加尔",968800:"塞尔维亚",969e3:"塞舌尔",969400:"塞拉利昂",970200:"新加坡",970300:"斯洛伐克",970400:"越南",970500:"斯洛文尼亚",970600:"索马里",971e3:"南非",971600:"津巴布韦",972400:"西班牙",972800:"南苏丹",972900:"苏丹",973200:"西撒哈拉",974e3:"苏里南",974400:"斯瓦尔巴群岛和 扬马延岛",974800:"斯威士兰",975200:"瑞典",975600:"瑞士",976e3:"叙利亚",976200:"塔吉克斯坦",976400:"泰国",976800:"多哥",977200:"托克劳",977600:"汤加",978e3:"特立尼达和多巴哥",978400:"阿联酋",978800:"突尼斯",979200:"土耳其",979500:"土库曼斯坦",979600:"特克斯和凯科斯群岛",979800:"图瓦卢",98e4:"乌干达",980400:"乌克兰",980700:"马其顿",981800:"埃及",982600:"英国",983100:"根西岛",983200:"泽西岛",983300:"马恩岛",983400:"坦桑尼亚",984e3:"美国",985e3:"美属维尔京群岛",985400:"布基纳法索",985800:"乌拉圭",986e3:"乌兹别克斯坦",986200:"委内瑞拉",987600:"瓦利斯和富图纳",988200:"萨摩亚",988700:"也门",989400:"赞比亚"},county_list:{110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",120101:"和平区",120102:"河东区",120103:"河西区",120104:"南开区",120105:"河北区"}}}},methods:{showPopup:function(){this.show=!0},onCancel:function(){this.show=!1},onConfirm:function(e){console.log(e),this.city=e[1].name,this.show=!1}}},ql=El,Rl=Object(d["a"])(ql,jl,Ll,!1,null,null,null),Il=Rl.exports,Bl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{attrs:{"is-link":""},on:{click:e.showPopup}},[e._v(e._s(e.currentDate))]),a("van-popup",{attrs:{position:"bottom"},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}},[a("van-datetime-picker",{attrs:{type:"datetime","min-date":e.minDate,"max-date":e.maxDate,formatter:e.formatter},on:{cancel:e.onCancel,confirm:e.confirm},model:{value:e.confirmDate,callback:function(t){e.confirmDate=t},expression:"confirmDate"}})],1)],1)},Vl=[],Nl={name:"DateTimePicker",data:function(){return{picker:!1,minDate:new Date(2019,0,1),maxDate:new Date(2025,10,1),currentDate:this.dateFormatter(new Date),confirmDate:""}},methods:{showPopup:function(){this.picker=!0},onCancel:function(){this.picker=!1},confirm:function(e){this.confirmDate=this.dateFormatter(new Date(e)),this.currentDate=this.confirmDate,this.picker=!1},formatter:function(e,t){return"year"===e?"".concat(t,"年"):"month"===e?"".concat(t,"月"):"day"===e?"".concat(t,"日"):t},dateFormatter:function(e){var t=e.getHours(),a=e.getMonth()+1,l=e.getFullYear(),i=e.getDate(),n=e.getMinutes();return t>=0&&t<=9&&(t="0"+t),a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i),n>=0&&n<=9&&(n="0"+n),console.log(l+"-"+a+"-"+i+" "+t+":"+n),l+"-"+a+"-"+i+" "+t+":"+n}}},Ml=Nl,Hl=Object(d["a"])(Ml,Bl,Vl,!1,null,null,null),Wl=Hl.exports,Jl={name:"Search",components:{DateTimePicker:Wl,ChinaCitySelect:Il},data:function(){return{list:[],show:!1,actions:[{name:"登录"},{name:"选项"},{name:"选项",subname:"描述信息"}]}},methods:{addClock:function(e){var t=e.position,a=e.instance;switch(t){case"left":case"cell":case"outside":a.close();break;case"right":Dialog.confirm({message:"确定删除吗？"}).then((function(){a.close()}));break}}}},Gl=Jl,Ql=(a("049b"),Object(d["a"])(Gl,Ul,Ol,!1,null,"3c1c3cc6",null)),Xl=Ql.exports,Kl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-panel",{attrs:{title:"国内热门航班"}},[a("van-list",e._l(e.chinaPlane,(function(t){return a("van-swipe-cell",{attrs:{"before-close":e.addClock}},[a("template",{slot:"left"},[a("van-button",{attrs:{type:"primary",text:"详情"}})],1),a("van-cell",{attrs:{center:"",size:"large",border:!1,value:t.price+"￥起"}},[a("template",{slot:"title"},[a("van-row",[a("van-col",{attrs:{span:"8"}},[a("van-image",{attrs:{round:"",width:"5rem",height:"5rem",src:t.icon}})],1),a("van-col",{attrs:{span:"16"}},[a("van-col",{attrs:{span:"24"}},[a("van-tag",{attrs:{type:"warning",size:"large"}},[e._v(e._s(t.startCity))]),a("van-icon",{attrs:{name:"exchange"}}),a("van-tag",{attrs:{type:"warning",size:"large"}},[e._v(e._s(t.endCity))])],1),a("van-col",{attrs:{span:"24"}},[a("span",[e._v(e._s(t.startTime))])])],1)],1)],1)],2),a("template",{slot:"right"},[a("van-button",{attrs:{type:"primary",text:"添加提醒"}})],1)],2)})),1)],1)},Yl=[],Zl={name:"ChinaHot",data:function(){return{userCity:"武汉",hotCity:"深圳",chinaPlane:""}},created:function(){var e=this;this.$axios.post("/china_plane",{currentPage:1,pageSize:4,startCity:this.userCity,endCity:this.hotCity,orderByField:"start_time"}).then((function(t){200===t.data.code&&(e.chinaPlane=t.data.data)})).catch((function(e){}))},methods:{addClock:function(e){var t=e.position,a=e.instance;switch(t){case"left":case"cell":case"outside":a.close();break;case"right":Dialog.confirm({message:"确定删除吗？"}).then((function(){a.close()}));break}}}},ei=Zl,ti=(a("877e"),Object(d["a"])(ei,Kl,Yl,!1,null,"042521e7",null)),ai=ti.exports,li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-panel",{attrs:{title:"国外热门航班"}},[a("van-list",e._l(e.chinaPlane,(function(t){return a("van-swipe-cell",{attrs:{"before-close":e.addClock}},[a("template",{slot:"left"},[a("van-button",{attrs:{type:"primary",text:"详情"}})],1),a("van-cell",{attrs:{center:"",size:"large",border:!1,value:t.price+"￥起"}},[a("template",{slot:"title"},[a("van-row",[a("van-col",{attrs:{span:"8"}},[a("van-image",{attrs:{round:"",width:"5rem",height:"5rem",src:t.icon}})],1),a("van-col",{attrs:{span:"16"}},[a("van-col",{attrs:{span:"24"}},[a("van-tag",{attrs:{type:"warning",size:"large"}},[e._v(e._s(t.startCity))]),a("van-icon",{attrs:{name:"exchange"}}),a("van-tag",{attrs:{type:"warning",size:"large"}},[e._v(e._s(t.endCity))])],1),a("van-col",{attrs:{span:"24"}},[a("span",[e._v(e._s(t.startTime))])])],1)],1)],1)],2),a("template",{slot:"right"},[a("van-button",{attrs:{type:"primary",text:"添加提醒"}})],1)],2)})),1)],1)},ii=[],ni={name:"AbroadHot",data:function(){return{userCity:"武汉",hotCity:"深圳",chinaPlane:""}},created:function(){var e=this;this.$axios.post("/china_plane",{currentPage:1,pageSize:4,startCity:this.userCity,endCity:this.hotCity,orderByField:"start_time"}).then((function(t){200===t.data.code&&(e.chinaPlane=t.data.data)})).catch((function(e){}))},methods:{addClock:function(e){var t=e.position,a=e.instance;switch(t){case"left":case"cell":case"outside":a.close();break;case"right":Dialog.confirm({message:"确定删除吗？"}).then((function(){a.close()}));break}}}},si=ni,oi=(a("3034"),Object(d["a"])(si,li,ii,!1,null,"df0ede30",null)),ri=oi.exports,ci={components:{Search:Xl,Header:Al,Footer:Ce,ChinaHot:ai,AbroadHot:ri},mounted:function(){this.loading=!1},data:function(){var e;return e={loading:!0,active:0,minDate:new Date(2019,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,images:["https://img.yzcdn.cn/vant/apple-1.jpg","https://img.yzcdn.cn/vant/apple-2.jpg"],list:[]},Object(Sl["a"])(e,"loading",!1),Object(Sl["a"])(e,"finished",!1),e},methods:{}},ui=ci,di=Object(d["a"])(ui,xl,$l,!1,null,"ded5b876",null),pi=di.exports;l["default"].use(h["a"]);var mi=new h["a"]({routes:[{path:"/",name:"index",component:Ae},{path:"/login",name:"login",component:at},{path:"/index",name:"index",component:Ae},{path:"/news/*",name:"NewShow",component:bl},{path:"/search",name:"Search",component:Me,meta:{requireAuth:!0}},{path:"/myClock",name:"myClock",component:_l,meta:{requireAuth:!0}},{path:"/admin/login",name:"AdminLogin",component:rt},{path:"/admin",name:"Admin",redirect:"/admin/index",component:At,children:[{path:"/admin/index",name:"admin",component:It},{path:"/admin/company/add",name:"CompanyAdd",component:Wt},{path:"/admin/company/show",name:"CompanyShow",component:Yt},{path:"/admin/plane/add",name:"PlaneAdd",component:ia},{path:"/admin/plane/show",name:"PlaneShow",component:ua},{path:"/admin/news/add",name:"NewsAdd",component:ba},{path:"/admin/news/show",name:"NewsShow",component:Ca},{path:"/admin/fight/add",name:"FightAdd",component:Da},{path:"/admin/fight/show",name:"FightShow",component:Oa},{path:"/admin/task/show",name:"TaskShow",component:ul},{path:"/admin/role/add",name:"RoleAdd",component:Ia},{path:"/admin/role/show",name:"RoleShow",component:Wa},{path:"/admin/permission/add",name:"PermissionAdd",component:Ya},{path:"/admin/permission/show",name:"PermissionShow",component:il}]},{path:"/index_m",name:"index_m",component:pi},{path:"/login_m",name:"login_m",component:pi},{path:"*",name:"404",component:vl["default"]}]}),hi=a("2f62");l["default"].use(hi["a"]);var fi,bi=new hi["a"].Store({state:{user:{token:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).token,username:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username},sessionUser:{token:null==window.sessionStorage.getItem("user")?"":JSON.parse(window.sessionStorage.getItem("user")).token,username:null==window.sessionStorage.getItem("user")?"":JSON.parse(window.sessionStorage.getItem("user")).username},adminMenus:[]},mutations:{initAdminMenu:function(e,t){e.adminMenus=t},login:function(e,t){e.sessionUser.token=t.token,e.sessionUser.username=t.username,window.sessionStorage.setItem("user",JSON.stringify(t))},logout:function(e){e.user=[],e.sessionUser=[],window.localStorage.removeItem("user"),window.sessionStorage.removeItem("user")},remember:function(e,t){e.user.token=t.token,e.user.username=t.username,window.localStorage.setItem("user",JSON.stringify(t))}},actions:{}}),vi=a("a925"),gi=a("bc3a");if(gi.defaults.baseURL="http://47.107.131.246:8443/api",gi.defaults.withCredentials=!0,l["default"].prototype.$axios=gi,l["default"].use(n.a),l["default"].use(s["a"]),l["default"].config.productionTip=!1,/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent))l["default"].prototype.$pc=!1;else{l["default"].prototype.$pc=!0;var yi=document.documentElement.offsetWidth||document.body.offsetWidth;yi=yi<1366?1366:yi;var wi=document.getElementsByTagName("html")[0];wi.style.fontSize=100*yi/1920+"px",window.addEventListener("resize",(function(){var e=document.documentElement.offsetWidth||document.body.offsetWidth;e=e<1366?1366:e;var t=document.getElementsByTagName("html")[0];t.style.fontSize=100*e/1920+"px"}))}mi.beforeEach((function(e,t,a){e.meta.requireAuth&&e.path.startsWith("/admin")?bi.state.user.username||bi.state.sessionUser.username?gi.get("/authentication").then((function(e){e&&a()})):a({path:"/admin/login",query:{redirect:e.fullPath}}):e.meta.requireAuth?bi.state.user.username||bi.state.sessionUser.username?gi.get("/authentication").then((function(e){e&&a()})):a({path:"/login",query:{redirect:e.fullPath}}):a()})),gi.interceptors.request.use((function(e){return fi=i["Loading"].service({fullscreen:!0}),bi.state.user.token?e.headers.Token=bi.state.user.token:bi.state.sessionUser.token&&(e.headers.Token=bi.state.sessionUser.token),e}),(function(e){return fi.close(),i["Message"].error({message:"加载超时"}),Promise.reject(e)})),gi.interceptors.response.use((function(e){return fi.close(),e}),(function(e){if(e.response){var t=e.response.data.message;switch(console.log(e.response.status),e.response.status){case 500:t=JSON.parse(t),401==t.code&&(i["Message"].error({message:t.message}),mi.replace({path:"login",query:{redirect:mi.currentRoute.fullPath}}))}fi.close()}return fi.close(),Promise.reject(e.response.data)})),l["default"].use(vi["a"]);var ki=new vi["a"]({locale:"zh-CN",messages:{"zh-CN":a("23d0"),"en-US":a("1e06")}});new l["default"]({render:function(e){return e(m)},router:mi,store:bi,i18n:ki}).$mount("#app")},"5f1a":function(e,t,a){},"5f4e":function(e,t,a){"use strict";var l=a("6e58"),i=a.n(l);i.a},6672:function(e,t,a){},"6ab2":function(e,t,a){"use strict";var l=a("1b33"),i=a.n(l);i.a},"6e58":function(e,t,a){},7126:function(e,t,a){},"7c6e":function(e,t,a){},8101:function(e,t,a){"use strict";var l=a("0e1a"),i=a.n(l);i.a},"83fc":function(e,t){},8518:function(e,t,a){"use strict";var l=a("3667"),i=a.n(l);i.a},"85ec":function(e,t,a){},"877e":function(e,t,a){"use strict";var l=a("d3d2"),i=a.n(l);i.a},"88d8":function(e,t,a){},"8b11":function(e,t,a){},"8b61":function(e,t,a){"use strict";var l=a("2ea7"),i=a.n(l);i.a},"8c1e":function(e,t,a){"use strict";var l=a("e13f"),i=a.n(l);i.a},"8fbf":function(e,t,a){},"92fd":function(e,t,a){"use strict";var l=a("1b90"),i=a.n(l);i.a},"9da6":function(e,t,a){},a1cc:function(e,t,a){},a482:function(e,t,a){"use strict";var l=a("0e25"),i=a.n(l);i.a},a638:function(e,t,a){},a760:function(e,t,a){e.exports=a.p+"img/3.dc1bd303.jpg"},acde:function(e,t,a){},b475:function(e,t,a){},b476:function(e,t,a){"use strict";var l=a("83fc"),i=a.n(l);t["default"]=i.a},b4e2:function(e,t,a){"use strict";var l=a("0fcc"),i=a.n(l);i.a},b90d:function(e,t,a){},bb32:function(e,t,a){},c0a3:function(e,t,a){},c26c:function(e,t,a){"use strict";var l=a("ff09"),i=a.n(l);i.a},c2a5:function(e,t,a){},c2b5:function(e,t,a){"use strict";var l=a("1c4e"),i=a.n(l);i.a},c387:function(e,t,a){"use strict";var l=a("8b11"),i=a.n(l);i.a},cedd:function(e,t,a){e.exports=a.p+"img/2.dfd21709.jpg"},d16d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAALAgMAAACFem6TAAAACVBMVEUAAAD////MzMwe7vqMAAAAAnRSTlMAAHaTzTgAAAAySURBVBjTYwhFAAbcQIOBgTiFWsQq5GogUiHTAoZVxIEVxCpcRbyJRLuRyr4mOhw1GAAB82/h3xhBOQAAAABJRU5ErkJggg=="},d2e8:function(e,t,a){"use strict";var l=a("8fbf"),i=a.n(l);i.a},d3d2:function(e,t,a){},d42b:function(e,t,a){"use strict";var l=a("bb32"),i=a.n(l);i.a},d871:function(e,t,a){},dc61:function(e,t,a){"use strict";var l=a("a1cc"),i=a.n(l);i.a},e13f:function(e,t,a){},e1ab:function(e,t,a){},e1bf:function(e,t,a){"use strict";var l=a("1a8b"),i=a.n(l);i.a},e1db:function(e,t,a){"use strict";var l=a("2c50"),i=a.n(l);i.a},e844:function(e,t,a){"use strict";var l=a("acde"),i=a.n(l);i.a},e936:function(e,t,a){"use strict";var l=a("c0a3"),i=a.n(l);i.a},ed2c:function(e,t,a){},f0c7:function(e,t,a){"use strict";var l=a("88d8"),i=a.n(l);i.a},f176:function(e,t,a){"use strict";var l=a("9da6"),i=a.n(l);i.a},f5de:function(e,t,a){"use strict";var l=a("1920"),i=a("b476"),n=a("2877"),s=Object(n["a"])(i["default"],l["a"],l["b"],!1,null,null,null);t["default"]=s.exports},ff09:function(e,t,a){}});
//# sourceMappingURL=app.24b409ce.js.map